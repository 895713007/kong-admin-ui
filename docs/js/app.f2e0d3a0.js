(function(t){function e(e){for(var a,n,i=e[0],l=e[1],c=e[2],m=0,h=[];m<i.length;m++)n=i[m],o[n]&&h.push(o[n][0]),o[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},o={app:0},r=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/kong-admin-ui/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02e3":function(t,e,s){"use strict";var a=s("1e96"),o=s.n(a);o.a},"034f":function(t,e,s){"use strict";var a=s("3a10"),o=s.n(a);o.a},"0a7f":function(t,e,s){},"0b24":function(t,e,s){},1195:function(t,e,s){"use strict";var a=s("e3bc"),o=s.n(a);o.a},"18ef":function(t,e,s){var a={"./af":"4cef","./af.js":"4cef","./ar":"7c9f","./ar-dz":"46ef","./ar-dz.js":"46ef","./ar-kw":"9b7b","./ar-kw.js":"9b7b","./ar-ly":"2d53","./ar-ly.js":"2d53","./ar-ma":"5521","./ar-ma.js":"5521","./ar-sa":"25dd","./ar-sa.js":"25dd","./ar-tn":"ccca","./ar-tn.js":"ccca","./ar.js":"7c9f","./az":"d38c","./az.js":"d38c","./be":"bb2b","./be.js":"bb2b","./bg":"fedf","./bg.js":"fedf","./bm":"80aa","./bm.js":"80aa","./bn":"d916","./bn.js":"d916","./bo":"4d28","./bo.js":"4d28","./br":"9562","./br.js":"9562","./bs":"41d6","./bs.js":"41d6","./ca":"499d","./ca.js":"499d","./cs":"3e8f","./cs.js":"3e8f","./cv":"e10f","./cv.js":"e10f","./cy":"f559","./cy.js":"f559","./da":"c36b","./da.js":"c36b","./de":"4cc8","./de-at":"6464","./de-at.js":"6464","./de-ch":"7404","./de-ch.js":"7404","./de.js":"4cc8","./dv":"131c","./dv.js":"131c","./el":"84a7","./el.js":"84a7","./en-au":"0857","./en-au.js":"0857","./en-ca":"e7c3","./en-ca.js":"e7c3","./en-gb":"4a79","./en-gb.js":"4a79","./en-ie":"0205","./en-ie.js":"0205","./en-il":"7aec","./en-il.js":"7aec","./en-nz":"f3f5","./en-nz.js":"f3f5","./eo":"c2ed","./eo.js":"c2ed","./es":"c97f","./es-do":"6832","./es-do.js":"6832","./es-us":"a08e","./es-us.js":"a08e","./es.js":"c97f","./et":"2acc","./et.js":"2acc","./eu":"bfe1","./eu.js":"bfe1","./fa":"3b9c","./fa.js":"3b9c","./fi":"1e42","./fi.js":"1e42","./fo":"62a4","./fo.js":"62a4","./fr":"d719","./fr-ca":"4aa6","./fr-ca.js":"4aa6","./fr-ch":"39a1","./fr-ch.js":"39a1","./fr.js":"d719","./fy":"2ec6","./fy.js":"2ec6","./gd":"c9b3","./gd.js":"c9b3","./gl":"430f","./gl.js":"430f","./gom-latn":"3b54","./gom-latn.js":"3b54","./gu":"1769","./gu.js":"1769","./he":"c05b","./he.js":"c05b","./hi":"97f4","./hi.js":"97f4","./hr":"822a","./hr.js":"822a","./hu":"0498","./hu.js":"0498","./hy-am":"eebb","./hy-am.js":"eebb","./id":"deb1","./id.js":"deb1","./is":"9f11","./is.js":"9f11","./it":"dca7","./it.js":"dca7","./ja":"719e","./ja.js":"719e","./jv":"4bc3","./jv.js":"4bc3","./ka":"adcc","./ka.js":"adcc","./kk":"19a4","./kk.js":"19a4","./km":"4176","./km.js":"4176","./kn":"ff10","./kn.js":"ff10","./ko":"05d0","./ko.js":"05d0","./ku":"48d9","./ku.js":"48d9","./ky":"2c23","./ky.js":"2c23","./lb":"f410","./lb.js":"f410","./lo":"7117","./lo.js":"7117","./lt":"3957","./lt.js":"3957","./lv":"ac40","./lv.js":"ac40","./me":"f647","./me.js":"f647","./mi":"4e48","./mi.js":"4e48","./mk":"b4e7","./mk.js":"b4e7","./ml":"99ee","./ml.js":"99ee","./mn":"ca88","./mn.js":"ca88","./mr":"2288","./mr.js":"2288","./ms":"d9d0","./ms-my":"b858","./ms-my.js":"b858","./ms.js":"d9d0","./mt":"129a","./mt.js":"129a","./my":"5751","./my.js":"5751","./nb":"d6aa","./nb.js":"d6aa","./ne":"8656","./ne.js":"8656","./nl":"0ccc","./nl-be":"50d8","./nl-be.js":"50d8","./nl.js":"0ccc","./nn":"eea8","./nn.js":"eea8","./pa-in":"bdfb","./pa-in.js":"bdfb","./pl":"83d1","./pl.js":"83d1","./pt":"0322","./pt-br":"ec94","./pt-br.js":"ec94","./pt.js":"0322","./ro":"def5","./ro.js":"def5","./ru":"5d14","./ru.js":"5d14","./sd":"14c2","./sd.js":"14c2","./se":"cf95","./se.js":"cf95","./si":"a1bc","./si.js":"a1bc","./sk":"839f","./sk.js":"839f","./sl":"22cd","./sl.js":"22cd","./sq":"df9b","./sq.js":"df9b","./sr":"046a","./sr-cyrl":"f072","./sr-cyrl.js":"f072","./sr.js":"046a","./ss":"f751","./ss.js":"f751","./sv":"e9fc","./sv.js":"e9fc","./sw":"7935","./sw.js":"7935","./ta":"f03f","./ta.js":"f03f","./te":"2a84","./te.js":"2a84","./tet":"2589","./tet.js":"2589","./tg":"6988","./tg.js":"6988","./th":"4a6e","./th.js":"4a6e","./tl-ph":"4250","./tl-ph.js":"4250","./tlh":"ad71","./tlh.js":"ad71","./tr":"824a","./tr.js":"824a","./tzl":"8652","./tzl.js":"8652","./tzm":"7013","./tzm-latn":"8cc2","./tzm-latn.js":"8cc2","./tzm.js":"7013","./ug-cn":"4350","./ug-cn.js":"4350","./uk":"b800","./uk.js":"b800","./ur":"cbac","./ur.js":"cbac","./uz":"ac82","./uz-latn":"6e55","./uz-latn.js":"6e55","./uz.js":"ac82","./vi":"1874","./vi.js":"1874","./x-pseudo":"02cc","./x-pseudo.js":"02cc","./yo":"307c","./yo.js":"307c","./zh-cn":"f427","./zh-cn.js":"f427","./zh-hk":"0a18","./zh-hk.js":"0a18","./zh-tw":"1578","./zh-tw.js":"1578"};function o(t){var e=r(t);return s(e)}function r(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}o.keys=function(){return Object.keys(a)},o.resolve=r,t.exports=o,o.id="18ef"},"1d02":function(t,e,s){"use strict";var a=s("af2e"),o=s.n(a);o.a},"1d53":function(t,e,s){"use strict";var a=s("f653"),o=s.n(a);o.a},"1e96":function(t,e,s){},"210f":function(t,e,s){"use strict";var a=s("77a0"),o=s.n(a);o.a},"22b4":function(t,e,s){"use strict";var a=s("49f9"),o=s.n(a);o.a},"275b":function(t,e,s){},"2a9d":function(t,e,s){},"30ec":function(t,e,s){},"3a10":function(t,e,s){},4099:function(t,e,s){"use strict";var a=s("2a9d"),o=s.n(a);o.a},"40f8":function(t,e,s){"use strict";var a=s("847f"),o=s.n(a);o.a},4358:function(t,e,s){},4805:function(t,e,s){"use strict";var a=s("f185"),o=s.n(a);o.a},"48c5":function(t,e,s){},"49e3":function(t,e,s){"use strict";var a=s("89ad"),o=s.n(a);o.a},"49f9":function(t,e,s){},"504c":function(t,e,s){"use strict";var a=s("a40c"),o=s.n(a);o.a},5203:function(t,e,s){"use strict";var a=s("8bc2"),o=s.n(a);o.a},"56d7":function(t,e,s){"use strict";s.r(e);s("175c"),s("bc97"),s("a5be");var a=s("1cc5"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],n=(s("034f"),s("25c1")),i={},l=Object(n["a"])(i,o,r,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,u=s("9a8c"),m=s.n(u);s("632c");a["default"].use(m.a);var h=s("081a"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{attrs:{id:"login"}},[s("Col",{attrs:{span:"8"}},[t._v(" ")]),s("Col",{attrs:{span:"8"}},[s("Card",{attrs:{"dis-hover":""}},[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("Login")]),s("Form",{ref:"formInline",attrs:{model:t.formInline,rules:t.ruleInline}},[s("FormItem",{attrs:{prop:"user"}},[s("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),s("FormItem",{attrs:{prop:"password"}},[s("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formInline")}}},[t._v("Signin")])],1)],1)],1)],1),s("Col",{attrs:{span:"8"}},[t._v(" ")])],1)},p=[],f=(s("d85c"),{data:function(){return{formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:20,message:"用户名长度1-20",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}]}}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$Message.success("Success!"):e.$Message.error("Fail!")})}}}),v=f,_=(s("f2e7"),Object(n["a"])(v,d,p,!1,null,"c4e99cfc",null));_.options.__file="Login.vue";var g=_.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._m(0),s("h3",[t._v("Installed CLI Plugins")]),t._m(1),s("h3",[t._v("Essential Links")]),t._m(2),s("h3",[t._v("Ecosystem")]),t._m(3)])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("\n    For a guide and recipes on how to configure / customize this project,"),s("br"),t._v("\n    check out the\n    "),s("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(".\n  ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),s("li",[s("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),s("li",[s("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),s("li",[s("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],k={name:"HelloWorld",props:{msg:String}},y=k,C=(s("4805"),Object(n["a"])(y,b,I,!1,null,"b9167eee",null));C.options.__file="HelloWorld.vue";var w=C.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout"},[s("Layout",[s("Header",{staticStyle:{padding:"0px"}},[s("HeaderComponent")],1),s("Layout",[s("Sider",{attrs:{"hide-trigger":""}},[s("keep-alive",[s("Menu")],1)],1),s("Content",[s("router-view",{staticClass:"router-content"})],1)],1),s("Footer",[s("FooterComponent")],1)],1)],1)},S=[],$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{attrs:{id:"menu"}},[s("Col",{attrs:{span:"24"}},[s("Menu",{ref:"menu",attrs:{theme:t.theme2,width:"auto","active-name":t.activeName,"open-names":t.openNames}},[s("router-link",{attrs:{to:"/"}},[s("MenuItem",{attrs:{name:"index"}},[s("Icon",{attrs:{type:"ios-stats"}}),t._v("\n                    Kong Info\n                ")],1)],1),s("Submenu",{attrs:{name:"service"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-paper"}}),t._v("\n                    Service\n                ")],1),s("router-link",{attrs:{to:"/services"}},[s("MenuItem",{attrs:{name:"service-list"}},[t._v("Service List")])],1)],2),s("Submenu",{attrs:{name:"route"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-people"}}),t._v("\n                    Route\n                ")],1),s("router-link",{attrs:{to:"/routes"}},[s("MenuItem",{attrs:{name:"route-list"}},[t._v("Route List")])],1)],2),s("Submenu",{attrs:{name:"upstream"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-desktop"}}),t._v("\n                    Upstream\n                ")],1),s("router-link",{attrs:{to:"/upstreams"}},[s("MenuItem",{attrs:{name:"upstream-list"}},[t._v("Upstream List")])],1)],2),s("Submenu",{attrs:{name:"consumer"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-person"}}),t._v("\n                    Consumer\n                ")],1),s("router-link",{attrs:{to:"/consumers"}},[s("MenuItem",{attrs:{name:"consumer-list"}},[t._v("Consumer List")])],1)],2),s("Submenu",{attrs:{name:"plugin"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-glasses"}}),t._v("\n                    Plugin\n                ")],1),s("router-link",{attrs:{to:"/plugins"}},[s("MenuItem",{attrs:{name:"plugin-list"}},[t._v("Plugin List")])],1)],2)],1)],1)],1)},j=[],T=new a["default"],A={data:function(){return{theme2:"dark",activeName:"",openNames:[]}},mounted:function(){var t=this;T.$on("changePage",function(e){var s=e.activeName,a=e.openNames;t.activeName=s,t.openNames=a,t.$nextTick(function(){t.$refs.menu&&(t.$refs.menu.updateOpened(),t.$refs.menu.updateActiveName())})})},destroyed:function(){T.$off("changePage")}},M=A,F=(s("22b4"),Object(n["a"])(M,$,j,!1,null,"61883ee9",null));F.options.__file="Menu.vue";var H=F.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",[s("Col",{attrs:{span:"3"}},[s("div",{attrs:{id:"title"}},[t._v("Kong Admin UI")])]),s("Col",{staticClass:"config",attrs:{span:"21"}},[s("div",[s("p",[s("router-link",{attrs:{to:"/config"}},[t._v(t._s(t.address))])],1)])])],1)},R=[],P={name:"Header",data:function(){return{address:"aaa"}},mounted:function(){this.address=localStorage.address}},D=P,N=(s("02e3"),Object(n["a"])(D,B,R,!1,null,"e0d5d752",null));N.options.__file="Header.vue";var z=N.exports,E=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",[s("a",{attrs:{href:"https://github.com/pocketdigi/kong-admin-ui",target:"_blank"}},[s("i",{staticClass:"ivu-icon ivu-icon-logo-github"})])]),s("p",{staticStyle:{"margin-top":"10px","font-size":"0.6rem"}},[t._v("© Kong Admin UI 2019 "),s("span",[s("a",{attrs:{href:"https://www.pocketdigi.com/book/kong/"}},[t._v("Kong中文文档")])])])])}],Y={name:"Footer"},U=Y,L=(s("ec5c"),Object(n["a"])(U,E,O,!1,null,"ade9bf66",null));L.options.__file="Footer.vue";var q=L.exports,W={name:"index",methods:{},components:{Menu:H,HeaderComponent:z,FooterComponent:q},mounted:function(){}},K=W,V=(s("1d53"),Object(n["a"])(K,x,S,!1,null,"0e040310",null));V.options.__file="Index.vue";var G=V.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/services"}},[t._v("Service")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Service List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addService}},[t._v("Add Service")])],1)],1),s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.services,loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.show(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])}),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)],1)},Q=[],X=s("ba8f"),Z=s.n(X),tt={name:"ServiceList",data:function(){return{loading:!0,columns:[{title:"id",key:"id",width:110},{title:"name",slot:"name",width:100},{title:"host",key:"host",width:110},{title:"created_at",key:"createAtStr",width:160},{title:"protocol",key:"protocol",width:90},{title:"port",key:"port",width:70},{title:"path",key:"path"},{title:"updated_at",key:"updatedAtStr",width:160},{title:"Action",slot:"action",width:150,align:"center"}],services:[],offset:"",offsetStack:[]}},mounted:function(){T.$emit("changePage",{activeName:"service-list",openNames:["service"]}),this.loadServices()},methods:{addService:function(){this.$router.push({path:"/services/add"})},show:function(t){this.$router.push("/services/"+t)},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Service",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/services/"+t,function(){e.$Message.info("Service deleted!"),e.loadServices()})},onCancel:function(){}})},loadServices:function(t){var e,s=this;t?e="/services?offset="+t+"&size=10":(e="/services?size=10",this.offsetStack=[],this.offset=""),this.loading=!0,this._get(e,function(t){s.services=[],Array.prototype.push.apply(s.services,t.data.data),s.services.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var s=Z.a.unix(t.updated_at);t.updatedAtStr=s.format("YYYY-MM-DD HH:mm:ss")}),s.offset=t.data.offset,s.loading=!1})},next:function(){var t=this.offset;this.loadServices(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadServices(t)}}},et=tt,st=(s("6768"),Object(n["a"])(et,J,Q,!1,null,"7fd03e1a",null));st.options.__file="ServiceList.vue";var at=st.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/services"}},[t._v("Service")]),s("BreadcrumbItem",[t._v("Service Detail")])],1),s("div",{attrs:{id:"service-info"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Service Info:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.editService}},[t._v("Edit")])],1)],1),s("Card",[s("Row",[s("Col",{attrs:{span:"9"}},[s("span",[t._v("id:")]),t._v(" "+t._s(t.service.id))]),s("Col",{attrs:{span:"4"}},[s("span",[t._v("name:")]),t._v(" "+t._s(t.service.name))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("create_at:")]),t._v(" "+t._s(t.service.createAtStr))]),s("Col",{attrs:{span:"5"}},[s("span",[t._v("updated_at:")]),t._v(" "+t._s(t.service.updatedAtStr))])],1),s("Row",[s("Col",{attrs:{span:"6"}},[s("span",[t._v("host:")]),t._v(" "+t._s(t.service.host))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("protocol:")]),t._v(" "+t._s(t.service.protocol))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("path:")]),t._v(" "+t._s(t.service.path))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("port:")]),t._v(" "+t._s(t.service.port))])],1),s("Row",[s("Col",{attrs:{span:"6"}},[s("span",[t._v("connect_timeout:")]),t._v(" "+t._s(t.service.connect_timeout))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("read_timeout:")]),t._v(" "+t._s(t.service.read_timeout))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("write_timeout:")]),t._v(" "+t._s(t.service.write_timeout))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("retries:")]),t._v(" "+t._s(t.service.retries))])],1)],1)],1),s("Divider"),s("div",{attrs:{id:"route-info"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Route Info:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addRoute}},[t._v("Add")])],1)],1),s("div",[s("RouteTable",{attrs:{routes:t.routes}})],1)],1),s("Divider"),s("div",{attrs:{id:"upstream-info"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Service's Upstream:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.editUpstream()}}},[t._v("Edit")])],1)],1),s("Card",[t.upstreamExisted?s("div",[s("Row",[s("Col",{attrs:{span:"9"}},[s("span",[t._v("id:")]),t._v(" "+t._s(t.upstream.id))]),s("Col",{attrs:{span:"4"}},[s("span",[t._v("name:")]),t._v(" "+t._s(t.upstream.name))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("create_at:")]),t._v(" "+t._s(t.upstream.createAtStr))]),s("Col",{attrs:{span:"5"}},[s("span",[t._v("hash_on:")]),t._v(" "+t._s(t.upstream.hash_on))])],1),s("Row",[s("Col",{attrs:{span:"8"}},[s("span",[t._v("hash_on_cookie_path:")]),t._v(" "+t._s(t.upstream.hash_on_cookie_path))]),s("Col",{attrs:{span:"8"}},[s("span",[t._v("hash_fallback:")]),t._v(" "+t._s(t.upstream.hash_fallback))]),s("Col",{attrs:{span:"8"}},[s("span",[t._v("slots:")]),t._v(" "+t._s(t.upstream.slots))])],1),s("Collapse",{staticStyle:{"margin-top":"10px"}},[s("Panel",{attrs:{name:"1"}},[t._v("\n                        Health checks\n                        "),s("p",{attrs:{slot:"content"},slot:"content"},[s("pre",[t._v(t._s(t.upstream.healthchecks))])])])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h3",[t._v("Targets:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addTarget}},[t._v("Add Target")])],1)],1),s("TargetTable",{ref:"targetTable",staticStyle:{"margin-top":"10px"},attrs:{upstreamId:t.upstream.id}})],1):s("div",[t._v("Upstream `"+t._s(t.service.host)+"` is not existed,if it's not a external host,You must "),s("a",{on:{click:function(e){t.addUpstream(t.service.host)}}},[t._v("add a Upstream named `"+t._s(t.service.host)+"`")])])])],1),s("Divider"),s("div",{attrs:{id:"plugins"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Plugins:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addPlugin()}}},[t._v("Add plugin")])],1)],1),s("PluginTable",{attrs:{plugins:t.plugins}})],1)],1)},rt=[],nt=s("44dd"),it=s.n(nt),lt=(s("3c1b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.routes},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1)])}),ct=[],ut={name:"RouteTable",props:["routes"],data:function(){return{columns:[{title:"id",key:"id"},{title:"name",key:"name",width:100},{title:"service",key:"service",width:180,render:function(t,e){return t("router-link",{props:{to:"/services/"+e.row.service.id}},e.row.service.id)}},{title:"hosts",key:"hosts",width:160},{title:"paths",key:"paths",width:140},{title:"created_at",key:"createAtStr",width:100},{title:"protocols",key:"protocols",width:140},{title:"Action",slot:"action",width:150,align:"center"}]}},methods:{edit:function(t){this.$router.push("/routes/edit/"+t)},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Service",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/routes/"+t,function(){e.$Message.info("Route deleted!"),T.$emit("routeChange",{routeId:t})})},onCancel:function(){}})}}},mt=ut,ht=Object(n["a"])(mt,lt,ct,!1,null,"22285db6",null);ht.options.__file="RouteTable.vue";var dt=ht.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.targets},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1),s("Modal",{attrs:{title:"Add Target","class-name":"vertical-center-modal"},on:{"on-ok":function(e){t.addTarget(t.upstreamId)},"on-cancel":function(e){t.cancelAddModalDialog()}},model:{value:t.addTargetModal,callback:function(e){t.addTargetModal=e},expression:"addTargetModal"}},[s("Form",{attrs:{model:t.target,"label-width":120,rules:t.ruleAddTarget}},[s("FormItem",{attrs:{label:"Upstream Id:"}},[s("Input",{attrs:{value:t.upstreamId,disabled:""}})],1),s("FormItem",{attrs:{label:"target:",prop:"target"}},[s("Input",{attrs:{placeholder:"enter target,default port is 8000"},model:{value:t.target.target,callback:function(e){t.$set(t.target,"target",e)},expression:"target.target"}})],1),s("FormItem",{attrs:{label:"weight:"}},[s("InputNumber",{attrs:{min:1},model:{value:t.target.weight,callback:function(e){t.$set(t.target,"weight",e)},expression:"target.weight"}})],1)],1)],1)],1)},ft=[],vt={name:"RouteTable",props:["upstreamId"],data:function(){return{loading:!0,columns:[{title:"id",key:"id"},{title:"target",key:"target",width:100},{title:"weight",key:"weight",width:100},{title:"created_at",key:"createAtStr",width:100},{title:"health",key:"health",width:200,render:function(t,e){return"HEALTHY"===e.row.health?t("div",[t("Icon",{props:{type:"ios-checkmark-circle",size:16,color:"green"}}),t("span",e.row.health)]):"HEALTHCHECKS_OFF"===e.row.health?t("div",[t("Icon",{props:{type:"ios-warning",size:16,color:"#db5f0c"}}),t("span",e.row.health)]):t("div",[t("Icon",{props:{type:"ios-bug",size:16,color:"red"}}),t("span",e.row.health)])}},{title:"Action",slot:"action",width:150,align:"center"}],targets:[],addTargetModal:!1,target:{target:"",weight:2},ruleAddTarget:{target:[{required:!0,message:"Please fill target",trigger:"blur"}],weight:[{required:!0,message:"Please fill weight",trigger:"blur"}]}}},methods:{loadTargets:function(){var t=this;this._get("/upstreams/"+this.upstreamId+"/health",function(e){t.targets=e.data.data,t.targets.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},showAddTargetModal:function(){this.addTargetModal=!0},addTarget:function(){var t=this;this._post("/upstreams/"+this.upstreamId+"/targets",this.target,function(){t.target.target="",t.target.weight=2,t.loadTargets()})},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Target",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/upstreams/"+e.upstreamId+"/targets/"+t,function(){s.$Message.info("Target deleted!"),s.loadTargets()})},onCancel:function(){}})},cancelAddModalDialog:function(){this.target.target="",this.target.weight=2}}},_t=vt,gt=(s("5203"),Object(n["a"])(_t,pt,ft,!1,null,"fc7d0148",null));gt.options.__file="TargetTable.vue";var bt=gt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.plugins},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1)])},kt=[],yt={name:"PluginTable",props:["plugins"],data:function(){return{columns:[{title:"id",key:"id",width:200},{title:"name",key:"name",width:100},{title:"service",key:"service",width:160,render:function(t,e){if(e.row.service)return t("router-link",{props:{to:"/services/"+e.row.service.id}},e.row.service.id)}},{title:"run_on",key:"run_on",width:80},{title:"consumer",render:function(t,e){return e.row.consumer?t("router-link",{props:{to:"/consumers/edit/"+e.row.consumer.id}},e.row.consumer.id):t()}},{title:"created_at",key:"createAtStr",width:150},{title:"route",key:"route",width:140},{title:"enabled",key:"enabled",width:90,render:function(t,e){return t("i-switch",{props:{value:e.row.enabled,disabled:!0}})}},{title:"Action",slot:"action",fixed:"right",width:150,align:"center"}]}},methods:{edit:function(t){this.$router.push({path:"/plugins/edit/".concat(t)})},deleteDialog:function(t){var e=this;this.$Modal.confirm({title:"Delete Plugin",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){e._delete("/plugins/"+t,function(){e.$Message.info("Plugin deleted!"),T.$emit("pluginChange",{pluginId:t})})},onCancel:function(){}})}}},Ct=yt,wt=Object(n["a"])(Ct,It,kt,!1,null,"2e73b07c",null);wt.options.__file="PluginTable.vue";var xt=wt.exports,St=s("d471"),$t=s.n(St),jt=(s("4896"),function(){var t=document.querySelectorAll("pre");t.forEach(function(t){$t.a.highlightBlock(t)})}),Tt={name:"ServiceDetail",data:function(){return{service:{},routes:[],upstream:{},upstreamExisted:!0,plugins:[]}},mounted:function(){var t=this;T.$emit("changePage",{activeName:"service-list",openNames:["service"]}),T.$on("routeChange",function(e){var s=e.routeId,a=!0,o=!1,r=void 0;try{for(var n,i=it()(t.routes);!(a=(n=i.next()).done);a=!0){var l=n.value;if(l.id===s){t.loadRoutes();break}}}catch(c){o=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}}),T.$on("pluginChange",function(e){var s=e.pluginId,a=!0,o=!1,r=void 0;try{for(var n,i=it()(t.plugins);!(a=(n=i.next()).done);a=!0){var l=n.value;if(l.id===s){t.loadPlugins();break}}}catch(c){o=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}}),this.loadServiceDetail()},components:{RouteTable:dt,TargetTable:bt,PluginTable:xt},methods:{loadServiceDetail:function(){var t=this;this._get("/services/"+this.$route.params.id,function(e){t.service=e.data;var s=Z.a.unix(t.service.created_at);t.service.createAtStr=s.format("YYYY-MM-DD HH:mm:ss");var a=Z.a.unix(t.service.updated_at);t.service.updatedAtStr=a.format("YYYY-MM-DD HH:mm:ss"),t.loadRoutes(),t.loadUpstream(),t.loadPlugins()})},loadRoutes:function(){var t=this;this.routes=[],this._get("/services/"+this.$route.params.id+"/routes",function(e){t.routes=e.data.data,t.routes.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var s=Z.a.unix(t.updated_at);t.updatedAtStr=s.format("YYYY-MM-DD HH:mm:ss")})})},loadUpstream:function(){var t=this;this._get("/upstreams/"+this.service.host,function(e){t.upstream=e.data;var s=Z.a.unix(t.upstream.created_at);t.upstream.createAtStr=s.format("YYYY-MM-DD HH:mm:ss");var a=Z.a.unix(t.upstream.updated_at);t.upstream.updatedAtStr=a.format("YYYY-MM-DD HH:mm:ss"),t.$nextTick(function(){t.$refs.targetTable.loadTargets(),jt()})},function(e){404===e.response.status&&(t.upstreamExisted=!1)})},loadPlugins:function(){var t=this;this._get("/services/"+this.$route.params.id+"/plugins",function(e){t.plugins=e.data.data,t.plugins.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")}),t.$nextTick(function(){jt()})})},editService:function(){this.$router.push({path:"/services/edit/".concat(this.service.id)})},addRoute:function(){this.$router.push({path:"/routes/add/".concat(this.service.id)})},addTarget:function(){this.$refs.targetTable.showAddTargetModal()},addUpstream:function(t){this.$router.push({path:"/upstreams/add/"+t})},editUpstream:function(){this.$router.push({path:"/upstreams/edit/".concat(this.upstream.id)})},addPlugin:function(){this.$router.push({path:"/plugins/add/service/".concat(this.service.id)})}},destroyed:function(){T.$off("routeChange"),T.$off("pluginChange")}},At=Tt,Mt=(s("df7b"),Object(n["a"])(At,ot,rt,!1,null,"62e69a26",null));Mt.options.__file="ServiceDetail.vue";var Ft=Mt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/services"}},[t._v("Service")]),t.edit?s("BreadcrumbItem",[t._v(t._s(t.serviceId))]):s("BreadcrumbItem",[t._v("Add Service")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter Service name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}}),s("span",{staticClass:"field_desc"},[t._v("The Service name.")])],1),s("FormItem",{attrs:{label:"retries:"}},[s("InputNumber",{attrs:{min:1},model:{value:t.formItem.retries,callback:function(e){t.$set(t.formItem,"retries",e)},expression:"formItem.retries"}}),s("span",{staticClass:"field_desc"},[t._v("The number of retries to execute upon failure to proxy. Defaults to 5.")])],1),s("FormItem",{attrs:{label:"protocol:"}},[s("RadioGroup",{model:{value:t.formItem.protocol,callback:function(e){t.$set(t.formItem,"protocol",e)},expression:"formItem.protocol"}},[s("Radio",{attrs:{label:"http"}},[t._v("http")]),s("Radio",{attrs:{label:"https"}},[t._v("https")])],1),s("span",{staticClass:"field_desc"},[t._v('The protocol used to communicate with the upstream. It can be one of http or https. Defaults to "http".')])],1),s("FormItem",{attrs:{label:"host:"}},[s("AutoComplete",{staticStyle:{width:"200px"},attrs:{data:t.upstreamNames,"filter-method":t.filterMethod,placeholder:"Enter host"},model:{value:t.formItem.host,callback:function(e){t.$set(t.formItem,"host",e)},expression:"formItem.host"}}),s("span",{staticClass:"field_desc"},[t._v("The host of the upstream server..")])],1),s("FormItem",{attrs:{label:"port:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter port"},model:{value:t.formItem.port,callback:function(e){t.$set(t.formItem,"port",e)},expression:"formItem.port"}}),s("span",{staticClass:"field_desc"},[t._v("The upstream server port. Defaults to 80.")])],1),s("FormItem",{attrs:{label:"path:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter path"},model:{value:t.formItem.path,callback:function(e){t.$set(t.formItem,"path",e)},expression:"formItem.path"}}),s("span",{staticClass:"field_desc"},[t._v("The path to be used in requests to the upstream server.")])],1),s("FormItem",{attrs:{label:"connect_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.connect_timeout,callback:function(e){t.$set(t.formItem,"connect_timeout",e)},expression:"formItem.connect_timeout"}}),s("span",{staticClass:"field_desc"},[t._v("The timeout in milliseconds for establishing a connection to the upstream server. Defaults to 60000.")])],1),s("FormItem",{attrs:{label:"write_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.write_timeout,callback:function(e){t.$set(t.formItem,"write_timeout",e)},expression:"formItem.write_timeout"}}),s("span",{staticClass:"field_desc"},[t._v("The timeout in milliseconds between two successive write operations for transmitting a request to the upstream server. Defaults to 60000.")])],1),s("FormItem",{attrs:{label:"read_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.read_timeout,callback:function(e){t.$set(t.formItem,"read_timeout",e)},expression:"formItem.read_timeout"}}),s("span",{staticClass:"field_desc"},[t._v("The timeout in milliseconds between two successive read operations for transmitting a request to the upstream server. Defaults to 60000")])],1),t.edit?t._e():s("FormItem",{attrs:{label:"url:"}},[s("Input",{staticStyle:{"max-width":"400px"},attrs:{placeholder:"Enter url"},model:{value:t.formItem.url,callback:function(e){t.$set(t.formItem,"url",e)},expression:"formItem.url"}}),s("span",{staticClass:"field_desc"},[t._v("Shorthand attribute to set protocol, host, port and path at once. This attribute is write-only (the Admin API never “returns” the url).")])],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveService}},[t._v("Save")])],1)],1)],1)},Bt=[],Rt=s("a6b5"),Pt=s.n(Rt),Dt={name:"AddService",data:function(){return{formItem:{name:"",retries:5,protocol:"http",host:"",port:80,path:"",connect_timeout:6e3,write_timeout:6e3,read_timeout:6e3,url:""},upstreamNames:[],serviceId:"",edit:!1}},mounted:function(){this.serviceId=this.$route.params.id,this.edit=null!=this.serviceId,this.loadUpstreams(),this.edit&&this.loadService()},methods:{loadUpstreams:function(){this.upstreamNames=[];var t=this;this._get("/upstreams/",function(e){var s=e.data.data;s.map(function(e){t.upstreamNames.push(e.name)})})},filterMethod:function(t,e){return!t||-1!==e.toUpperCase().indexOf(t.toUpperCase())},saveService:function(){var t=this,e=JSON.parse(Pt()(this.formItem));""===e.name&&(e.name=null),""===e.host&&(e.host=null),""===e.path&&(e.path=null),""===e.url&&(e.url=null),this.edit?this._patch("/services/"+this.serviceId,e,function(){t.$router.go(-1)}):this._post("/services/",e,function(){t.$router.push("/services")})},loadService:function(){var t=this;this._get("/services/"+this.serviceId,function(e){t.formItem=e.data})}}},Nt=Dt,zt=(s("49e3"),Object(n["a"])(Nt,Ht,Bt,!1,null,"50c2d6e8",null));zt.options.__file="AddService.vue";var Et=zt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticStyle:{"margin-top":"100px"}},[t._v("Kong Admin UI")]),s("Row",{attrs:{id:"config"}},[s("Col",{attrs:{span:"6"}},[t._v(" ")]),s("Col",{attrs:{span:"12"}},[s("Form",{ref:"form",attrs:{model:t.formItem,"label-width":280,rules:t.ruleCustom}},[s("FormItem",{attrs:{label:"Kong Admin Api url:",prop:"address"}},[s("Input",{attrs:{placeholder:"http://192.168.0.200:8001"},model:{value:t.formItem.address,callback:function(e){t.$set(t.formItem,"address",e)},expression:"formItem.address"}})],1)],1),s("Button",{attrs:{type:"primary"},on:{click:t.test}},[t._v("Enter")]),t._v(" \n            "),s("Button",{attrs:{type:"success"},on:{click:t.clear}},[t._v("Clear address")])],1),s("Col",{attrs:{span:"6"}},[t._v(" ")])],1),t._m(0),t._m(1)],1)},Yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notice"},[s("p",[t._v("This app will not connect other servers except your kong admin api.Your kong admin api address is save in\n            browser's localstorage, so it's safety to manage your kong.")]),s("p",[t._v("All requests to Kong admin api is send by your browser,so make sure your device can access Kong admin api\n            without any security auth.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"https://github.com/pocketdigi/kong-admin-ui"}},[s("img",{staticStyle:{position:"absolute",top:"0",left:"0",border:"0"},attrs:{src:"https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png",alt:"Fork me on GitHub"}})])}],Ut=(s("af3c"),s("56f4"),s("3573"),s("7f43")),Lt=s.n(Ut),qt={data:function(){var t=this,e=function(e,s,a){if(""===s)a(new Error("Please enter your Kong admin api url"));else{if(!s.startsWith("http://")&&!s.startsWith("https://"))return void a(new Error("url error,must start with http:// or https://"));if(s.endsWith("/"))return a(new Error("url error,cant't end with /")),void(t.formItem.address=t.formItem.address.substr(0,t.formItem.address.length-1));a()}};return{formItem:{address:""},ruleCustom:{address:[{validator:e,trigger:"blur"}]}}},mounted:function(){this.formItem.address=localStorage.address},methods:{saveConfig:function(){localStorage.address=this.formItem.address,this.$router.push("/")},test:function(){var t=this,e=this;this.$refs.form.validate(function(s){s?Lt.a.get(t.formItem.address).then(function(e){var s=e.data,a=s.version;null==a&&t.$Message.error({content:"Can't get your Kong's version,please check the address you input",duration:10});var o=a.split(".");3!==o.length&&t.versionNotSupport(a),o[0]>0?t.saveConfig():o[1]>=14?t.saveConfig():t.versionNotSupport(a)}).catch(function(){e.$Message.error({content:"Failed to connect with your kong admin api,please check the address you input,or your computer has no permission to visit the admin api",duration:10})}):t.$Message.error("Kong admin api url error")})},versionNotSupport:function(t){this.$Message.error({content:"Version "+t+" is not support,We only support 0.14.0 and higher",duration:10})},clear:function(){localStorage.removeItem("address"),this.formItem.address=""}}},Wt=qt,Kt=(s("87a0"),Object(n["a"])(Wt,Ot,Yt,!1,null,"6d3105c1",null));Kt.options.__file="Config.vue";var Vt=Kt.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")])],1),s("h1",[t._v("Kong Info")]),s("Row",[s("Col",{attrs:{span:"6"}},[t._v("hostname: "+t._s(t.basicInfo.hostname))]),s("Col",{attrs:{span:"6"}},[t._v("version: "+t._s(t.basicInfo.version))]),s("Col",{attrs:{span:"6"}},[t._v("node_id: "+t._s(t.basicInfo.node_id))]),s("Col",{attrs:{span:"6"}},[t._v("tagline: "+t._s(t.basicInfo.tagline))])],1),s("h3",[t._v("Configuration:")]),s("Row",[s("Col",{attrs:{span:"8"}},[t._v("prefix: "+t._s(t.basicInfo.configuration.prefix))]),s("Col",{attrs:{span:"8"}},[t._v("proxy_listen: "+t._s(t.basicInfo.configuration.proxy_listen))]),s("Col",{attrs:{span:"8"}},[t._v("db_update_frequency: "+t._s(t.basicInfo.configuration.db_update_frequency))])],1),s("Row",[s("Col",{attrs:{span:"8"}},[t._v("admin_listen: "+t._s(t.basicInfo.configuration.admin_listen))]),s("Col",{attrs:{span:"8"}},[t._v("nginx_conf: "+t._s(t.basicInfo.configuration.nginx_conf))]),s("Col",{attrs:{span:"8"}},[t._v("nginx_pid: "+t._s(t.basicInfo.configuration.nginx_pid))])],1),s("h3",[t._v("Status:")]),s("Row",[s("Col",{attrs:{span:"8"}},[t._v("server.connections_writing: "+t._s(t.status.server.connections_writing))]),s("Col",{attrs:{span:"8"}},[t._v("server.total_requests: "+t._s(t.status.server.total_requests))]),s("Col",{attrs:{span:"8"}},[t._v("server.connections_handled: "+t._s(t.status.server.connections_handled))])],1),s("Row",[s("Col",{attrs:{span:"8"}},[t._v("server.connections_accepted: "+t._s(t.status.server.connections_accepted))]),s("Col",{attrs:{span:"8"}},[t._v("server.connections_reading: "+t._s(t.status.server.connections_reading))]),s("Col",{attrs:{span:"8"}},[t._v("server.connections_active: "+t._s(t.status.server.connections_active))])],1),s("Row",[s("Col",{attrs:{span:"8"}},[t._v("server.connections_waiting: "+t._s(t.status.server.connections_waiting))])],1)],1)},Jt=[],Qt={data:function(){return{basicInfo:{configuration:{}},status:{server:{}},timer:""}},mounted:function(){T.$emit("changePage",{activeName:"index",openNames:[]}),this.loadBasicInfo(),this.loadStatus(),this.timer=setInterval(this.loadStatus,3e3)},methods:{loadBasicInfo:function(){var t=this;this._get("/",function(e){t.basicInfo=e.data})},loadStatus:function(){var t=this;this._get("/status",function(e){t.status=e.data})}}},Xt=Qt,Zt=(s("1d02"),Object(n["a"])(Xt,Gt,Jt,!1,null,"467a2b16",null));Zt.options.__file="BasicInfo.vue";var te=Zt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/routes"}},[t._v("Route")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Route List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addRoute}},[t._v("Add Route")])],1)],1),s("RouteTable",{attrs:{routes:t.routes}}),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)},se=[],ae={name:"RouterList",data:function(){return{routes:[],offset:"",offsetStack:[]}},components:{RouteTable:dt},mounted:function(){var t=this;T.$emit("changePage",{activeName:"route-list",openNames:["route"]}),this.loadRoutes(),T.$on("routeChange",function(e){var s=e.routeId,a=!0,o=!1,r=void 0;try{for(var n,i=it()(t.routes);!(a=(n=i.next()).done);a=!0){var l=n.value;if(l.id===s){t.loadRoutes();break}}}catch(c){o=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}})},methods:{addRoute:function(){this.$router.push({path:"/routes/add"})},loadRoutes:function(t){var e,s=this;e=t?"/routes?offset="+t+"&size=10":"/routes?size=10",this._get(e,function(t){s.routes=t.data.data,s.offset=t.data.offset})},next:function(){var t=this.offset;this.loadRoutes(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadRoutes(t)}},destroyed:function(){T.$off("routeChange")}},oe=ae,re=(s("4099"),Object(n["a"])(oe,ee,se,!1,null,"0380ed30",null));re.options.__file="RouteList.vue";var ne=re.exports,ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/route"}},[t._v("Route")]),t.edit?s("BreadcrumbItem",[t._v(t._s(t.routeId))]):s("BreadcrumbItem",[t._v("Add Route")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter Route name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}}),s("span",{staticClass:"field_desc"},[t._v("The name of the Route.")])],1),s("FormItem",{attrs:{label:"protocols:"}},[s("CheckboxGroup",{model:{value:t.formItem.protocols,callback:function(e){t.$set(t.formItem,"protocols",e)},expression:"formItem.protocols"}},[s("Checkbox",{attrs:{label:"http"}}),s("Checkbox",{attrs:{label:"https"}}),s("Checkbox",{attrs:{label:"tcp"}}),s("Checkbox",{attrs:{label:"tls"}})],1),s("span",{staticClass:"field_desc"},[t._v('A list of the protocols this Route should allow. When set to ["https"], HTTP requests are answered with a request to upgrade to HTTPS. Defaults to ["http", "https"].')])],1),s("FormItem",{attrs:{label:"methods:"}},[s("CheckboxGroup",{model:{value:t.formItem.methods,callback:function(e){t.$set(t.formItem,"methods",e)},expression:"formItem.methods"}},[s("Checkbox",{attrs:{label:"GET"}}),s("Checkbox",{attrs:{label:"POST"}}),s("Checkbox",{attrs:{label:"DELETE"}}),s("Checkbox",{attrs:{label:"PATCH"}}),s("Checkbox",{attrs:{label:"PUT"}}),s("Checkbox",{attrs:{label:"HEAD"}}),s("Checkbox",{attrs:{label:"OPTIONS"}})],1),s("span",{staticClass:"field_desc"},[t._v("A list of HTTP methods that match this Route. When using http or https protocols, at least one of hosts, paths, or methods must be set.")])],1),s("FormItem",{attrs:{label:"hosts:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple hosts"},model:{value:t.hosts,callback:function(e){t.hosts=e},expression:"hosts"}}),s("span",{staticClass:"field_desc"},[t._v("A list of domain names that match this Route. When using http or https protocols, at least one of hosts, paths, or methods must be set. ")])],1),s("FormItem",{attrs:{label:"paths:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple paths"},model:{value:t.paths,callback:function(e){t.paths=e},expression:"paths"}}),s("span",{staticClass:"field_desc"},[t._v("A list of paths that match this Route. When using http or https protocols, at least one of hosts, paths, or methods must be set. ")])],1),s("FormItem",{attrs:{label:"regex_priority:"}},[s("InputNumber",{model:{value:t.formItem.regex_priority,callback:function(e){t.$set(t.formItem,"regex_priority",e)},expression:"formItem.regex_priority"}}),s("div",{staticClass:"field_desc"},[t._v("A number used to choose which route resolves a given request when several routes\n                match it using regexes simultaneously. When two routes match the path and have the same\n                regex_priority, the older one (lowest created_at) is used. Note that the priority for non-regex\n                routes is different (longer non-regex routes are matched before shorter ones). Defaults to 0.\n            ")])],1),s("FormItem",{attrs:{label:"strip_path:"}},[s("i-switch",{attrs:{size:"large"},model:{value:t.formItem.strip_path,callback:function(e){t.$set(t.formItem,"strip_path",e)},expression:"formItem.strip_path"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("true")]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("false")])]),s("span",{staticClass:"field_desc"},[t._v("When matching a Route via one of the paths, strip the matching prefix from the upstream request URL.")])],1),s("FormItem",{attrs:{label:"preserve_host:"}},[s("i-switch",{attrs:{size:"large"},model:{value:t.formItem.preserve_host,callback:function(e){t.$set(t.formItem,"preserve_host",e)},expression:"formItem.preserve_host"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("true")]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("false")])]),s("span",{staticClass:"field_desc"},[t._v("When matching a Route via one of the hosts domain names, use the request Host header in the upstream request headers. If set to false, the upstream Host header will be that of the Service’s host.")])],1),s("FormItem",{attrs:{label:"snis:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple snis"},model:{value:t.snis,callback:function(e){t.snis=e},expression:"snis"}}),s("span",{staticClass:"field_desc"},[t._v("A list of SNIs that match this Route when using stream routing. When using tcp or tls protocols, at least one of snis, sources, or destinations must be set. ")])],1),s("FormItem",{attrs:{label:"sources:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple sources"},model:{value:t.sources,callback:function(e){t.sources=e},expression:"sources"}}),s("span",{staticClass:"field_desc"},[t._v("A list of IP sources of incoming connections that match this Route when using stream routing. Each entry is an object with fields “ip” (optionally in CIDR range notation) and/or “port”. When using tcp or tls protocols, at least one of snis, sources, or destinations must be set. ")])],1),s("FormItem",{attrs:{label:"destinations:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple sources"},model:{value:t.destinations,callback:function(e){t.destinations=e},expression:"destinations"}}),s("span",{staticClass:"field_desc"},[t._v("A list of IP destinations of incoming connections that match this Route when using stream routing. Each entry is an object with fields “ip” (optionally in CIDR range notation) and/or “port”. When using tcp or tls protocols, at least one of snis, sources, or destinations must be set. ")])],1),s("FormItem",{attrs:{label:"service:"}},[s("Select",{staticStyle:{width:"400px"},attrs:{disabled:!t.serviceIdCanChanged},model:{value:t.formItem.service.id,callback:function(e){t.$set(t.formItem.service,"id",e)},expression:"formItem.service.id"}},t._l(t.services,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.id)+"    "+t._s(e.name))])}),1)],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveRoute}},[t._v("Save")])],1)],1)],1)},le=[],ce={name:"AddRoute",data:function(){return{formItem:{name:"",protocols:["http","https"],methods:[],hosts:[],paths:[],regex_priority:0,strip_path:!0,preserve_host:!1,snis:[],sources:[],destinations:[],service:{id:""}},serviceId:"",routeId:"",edit:!1,serviceIdCanChanged:!0,services:[]}},mounted:function(){this.routeId=this.$route.params.id,this.serviceId=this.$route.params.serviceId,this.edit=null!=this.routeId,null!=this.serviceId&&(this.formItem.service.id=this.serviceId,this.serviceIdCanChanged=!1),this.edit&&this.loadRoute(),this.loadServices()},methods:{saveRoute:function(){var t=this;""===this.formItem.id&&(this.formItem.id=null),""===this.formItem.name&&(this.formItem.name=null),""===this.formItem.url&&(this.formItem.url=null),this.edit?this._patch("/routes/"+this.routeId,this.formItem,function(){t.$router.go(-1)}):this._post("/routes/",this.formItem,function(){t.$router.go(-1)})},loadRoute:function(){var t=this,e=this;this._get("/routes/"+this.routeId,function(s){e.formItem=s.data,t.hosts=t.formItem.hosts.join(","),t.paths=t.formItem.paths.join(",")})},loadServices:function(){var t=this;this._get("/services",function(e){t.services=[],Array.prototype.push.apply(t.services,e.data.data)})}},computed:{hosts:{set:function(t){this.formItem.hosts=t?t.split(","):[]},get:function(){return this.formItem.hosts.join(",")}},paths:{set:function(t){this.formItem.paths=t?t.split(","):[]},get:function(){return this.formItem.paths.join(",")}},snis:{set:function(t){this.formItem.snis=t?t.split(","):[]},get:function(){return this.formItem.snis?this.formItem.snis.join(","):""}},sources:{set:function(t){this.formItem.sources=t?t.split(","):[]},get:function(){return this.formItem.sources?this.formItem.sources.join(","):""}},destinations:{set:function(t){this.formItem.destinations=t?t.split(","):[]},get:function(){return this.formItem.destinations?this.formItem.destinations.join(","):""}}}},ue=ce,me=(s("5c75"),Object(n["a"])(ue,ie,le,!1,null,"b3b36932",null));me.options.__file="AddRoute.vue";var he=me.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/upstream"}},[t._v("Upstream")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Upstream List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addUpstream}},[t._v("Add Upstream")])],1)],1),s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.upstreams,loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)},pe=[],fe={name:"UpstreamList",data:function(){return{upstreams:[],loading:!0,columns:[{title:"id",key:"id"},{title:"name",key:"name",width:100},{title:"created_at",key:"createAtStr",width:160},{title:"hash_on",key:"hash_on",width:140},{title:"hash_on_cookie_path",key:"hash_on_cookie_path",width:140},{title:"Action",slot:"action",width:150,align:"center"}],offset:"",offsetStack:[]}},mounted:function(){T.$emit("changePage",{activeName:"upstream-list",openNames:["upstream"]}),this.loadUpstreams()},methods:{addUpstream:function(){this.$router.push({path:"/upstreams/add"})},loadUpstreams:function(t){var e,s=this;t?e="/upstreams?offset="+t+"&size=10":(e="/upstreams?size=10",this.offsetStack=[],this.offset=""),this.loading=!0,this._get(e,function(t){s.upstreams=t.data.data,s.upstreams.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var s=Z.a.unix(t.updated_at);t.updatedAtStr=s.format("YYYY-MM-DD HH:mm:ss")}),s.offset=t.data.offset,s.loading=!1}),this.loading=!1},edit:function(t){this.$router.push("/upstreams/edit/"+t)},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Upstream",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/upstreams/"+t,function(){e.$Message.info("Upstream deleted!"),e.loadUpstreams()})},onCancel:function(){}})},next:function(){var t=this.offset;this.loadUpstreams(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadUpstreams(t)}}},ve=fe,_e=(s("504c"),Object(n["a"])(ve,de,pe,!1,null,"f55c056a",null));_e.options.__file="UpstreamList.vue";var ge=_e.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/upstreams"}},[t._v("Upstream")]),t.edit?s("BreadcrumbItem",[t._v(t._s(t.upstreamId))]):s("BreadcrumbItem",[t._v("Add Upstream")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":300}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter upstream name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}}),s("span",{staticClass:"field_desc"},[t._v("This is a hostname, which must be equal to the host of a Service.")])],1),s("FormItem",{attrs:{label:"hash_on:"}},[s("RadioGroup",{model:{value:t.formItem.hash_on,callback:function(e){t.$set(t.formItem,"hash_on",e)},expression:"formItem.hash_on"}},[s("Radio",{attrs:{label:"none"}},[t._v("none")]),s("Radio",{attrs:{label:"consumer"}},[t._v("consumer")]),s("Radio",{attrs:{label:"ip"}},[t._v("ip")]),s("Radio",{attrs:{label:"header"}},[t._v("header")]),s("Radio",{attrs:{label:"cookie"}},[t._v("cookie")])],1),s("span",{staticClass:"field_desc"},[t._v("What to use as hashing input: none (resulting in a weighted-round-robin scheme with no hashing), consumer, ip, header, or cookie")])],1),s("FormItem",{attrs:{label:"hash_fallback:"}},[s("RadioGroup",{model:{value:t.formItem.hash_fallback,callback:function(e){t.$set(t.formItem,"hash_fallback",e)},expression:"formItem.hash_fallback"}},[s("Radio",{attrs:{label:"none"}},[t._v("none")]),s("Radio",{attrs:{label:"consumer"}},[t._v("consumer")]),s("Radio",{attrs:{label:"ip"}},[t._v("ip")]),s("Radio",{attrs:{label:"header"}},[t._v("header")]),s("Radio",{attrs:{label:"cookie"}},[t._v("cookie")])],1),s("span",{staticClass:"field_desc"},[t._v("What to use as hashing input if the primary hash_on does not return a hash (eg. header is missing, or no consumer identified). One of: none, consumer, ip, header, or cookie. Not available if hash_on is set to cookie. ")])],1),"header"===t.formItem.hash_on?s("FormItem",{attrs:{label:"hash_on_header:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_on_header"},model:{value:t.formItem.hash_on_header,callback:function(e){t.$set(t.formItem,"hash_on_header",e)},expression:"formItem.hash_on_header"}}),s("span",{staticClass:"field_desc"},[t._v("The header name to take the value from as hash input. Only required when hash_on is set to header.")])],1):t._e(),"header"===t.formItem.hash_fallback?s("FormItem",{attrs:{label:"hash_fallback_header:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_fallback_header"},model:{value:t.formItem.hash_fallback_header,callback:function(e){t.$set(t.formItem,"hash_fallback_header",e)},expression:"formItem.hash_fallback_header"}}),s("span",{staticClass:"field_desc"},[t._v("The header name to take the value from as hash input. Only required when hash_fallback is set to header.")])],1):t._e(),"cookie"===t.formItem.hash_on||"cookie"===t.formItem.hash_fallback?s("FormItem",{attrs:{label:"hash_on_cookie:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_on_cookie"},model:{value:t.formItem.hash_on_cookie,callback:function(e){t.$set(t.formItem,"hash_on_cookie",e)},expression:"formItem.hash_on_cookie"}}),s("span",{staticClass:"field_desc"},[t._v("The cookie name to take the value from as hash input. Only required when hash_on or hash_fallback is set to cookie. If the specified cookie is not in the request, Kong will generate a value and set the cookie in the response.")])],1):t._e(),"cookie"===t.formItem.hash_on||"cookie"===t.formItem.hash_fallback?s("FormItem",{attrs:{label:"hash_on_cookie_path:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_on_cookie"},model:{value:t.formItem.hash_on_cookie_path,callback:function(e){t.$set(t.formItem,"hash_on_cookie_path",e)},expression:"formItem.hash_on_cookie_path"}}),s("span",{staticClass:"field_desc"},[t._v("The cookie path to set in the response headers. Only required when hash_on or hash_fallback is set to cookie.")])],1):t._e(),s("FormItem",{attrs:{label:"slots:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.slots,callback:function(e){t.$set(t.formItem,"slots",e)},expression:"formItem.slots"}}),s("span",{staticClass:"field_desc"},[t._v("The number of slots in the loadbalancer algorithm (10-65536). ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.https_verify_certificate:"}},[s("i-switch",{attrs:{size:"large"},model:{value:t.formItem.healthchecks.active.https_verify_certificate,callback:function(e){t.$set(t.formItem.healthchecks.active,"https_verify_certificate",e)},expression:"formItem.healthchecks.active.https_verify_certificate"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("true")]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("false")])]),s("span",{staticClass:"field_desc"},[t._v("Whether to check the validity of the SSL certificate of the remote host when performing active health checks using HTTPS. ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.http_statuses:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"http status"},model:{value:t.healthchecksActiveUnhealthyHttpStatuses,callback:function(e){t.healthchecksActiveUnhealthyHttpStatuses=e},expression:"healthchecksActiveUnhealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses to consider a failure, indicating unhealthiness, when returned by a probe in active health checks.  ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.tcp_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.tcp_failures,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"tcp_failures",e)},expression:"formItem.healthchecks.active.unhealthy.tcp_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of TCP failures in active probes to consider a target unhealthy ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.timeouts:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.timeouts,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"timeouts",e)},expression:"formItem.healthchecks.active.unhealthy.timeouts"}}),s("span",{staticClass:"field_desc"},[t._v("Number of timeouts in active probes to consider a target unhealthy")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.http_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.http_failures,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"http_failures",e)},expression:"formItem.healthchecks.active.unhealthy.http_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of HTTP failures in active probes (as defined by healthchecks.active.unhealthy.http_statuses) to consider a target unhealthy.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.interval:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.interval,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"interval",e)},expression:"formItem.healthchecks.active.unhealthy.interval"}}),s("span",{staticClass:"field_desc"},[t._v("Interval between active health checks for unhealthy targets (in seconds). A value of zero indicates that active probes for unhealthy targets should not be performed.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.http_path:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"http_path"},model:{value:t.formItem.healthchecks.active.http_path,callback:function(e){t.$set(t.formItem.healthchecks.active,"http_path",e)},expression:"formItem.healthchecks.active.http_path"}}),s("span",{staticClass:"field_desc"},[t._v("Path to use in GET HTTP request to run as a probe on active health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.timeout:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.timeout,callback:function(e){t.$set(t.formItem.healthchecks.active,"timeout",e)},expression:"formItem.healthchecks.active.timeout"}}),s("span",{staticClass:"field_desc"},[t._v("Socket timeout for active health checks (in seconds).")])],1),s("FormItem",{attrs:{label:"healthchecks.active.healthy.http_statuses:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"http status"},model:{value:t.healthchecksActiveHealthyHttpStatuses,callback:function(e){t.healthchecksActiveHealthyHttpStatuses=e},expression:"healthchecksActiveHealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses to consider a success, indicating healthiness, when returned by a probe in active health checks. ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.healthy.interval:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.healthy.interval,callback:function(e){t.$set(t.formItem.healthchecks.active.healthy,"interval",e)},expression:"formItem.healthchecks.active.healthy.interval"}}),s("span",{staticClass:"field_desc"},[t._v("Interval between active health checks for unhealthy targets (in seconds). A value of zero indicates that active probes for unhealthy targets should not be performed.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.healthy.successes:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.healthy.successes,callback:function(e){t.$set(t.formItem.healthchecks.active.healthy,"successes",e)},expression:"formItem.healthchecks.active.healthy.successes"}}),s("span",{staticClass:"field_desc"},[t._v("Number of successes in active probes (as defined by healthchecks.active.healthy.http_statuses) to consider a target healthy.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.https_sni:"}},[s("Input",{staticClass:"text_input",model:{value:t.formItem.healthchecks.active.https_sni,callback:function(e){t.$set(t.formItem.healthchecks.active,"https_sni",e)},expression:"formItem.healthchecks.active.https_sni"}}),s("span",{staticClass:"field_desc"},[t._v("The hostname to use as an SNI (Server Name Identification) when performing active health checks using HTTPS. This is particularly useful when Targets are configured using IPs, so that the target host’s certificate can be verified with the proper SNI.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.concurrency:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.concurrency,callback:function(e){t.$set(t.formItem.healthchecks.active,"concurrency",e)},expression:"formItem.healthchecks.active.concurrency"}}),s("span",{staticClass:"field_desc"},[t._v("Number of targets to check concurrently in active health checks. ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.type:"}},[s("RadioGroup",{model:{value:t.formItem.healthchecks.active.type,callback:function(e){t.$set(t.formItem.healthchecks.active,"type",e)},expression:"formItem.healthchecks.active.type"}},[s("Radio",{attrs:{label:"tcp"}},[t._v("tcp")]),s("Radio",{attrs:{label:"http"}},[t._v("http")]),s("Radio",{attrs:{label:"https"}},[t._v("https")])],1),s("span",{staticClass:"field_desc"},[t._v("Whether to perform active health checks using HTTP or HTTPS, or just attempt a TCP connection. ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.http_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.unhealthy.http_failures,callback:function(e){t.$set(t.formItem.healthchecks.passive.unhealthy,"http_failures",e)},expression:"formItem.healthchecks.passive.unhealthy.http_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of HTTP failures in proxied traffic (as defined by healthchecks.passive.unhealthy.http_statuses) to consider a target unhealthy, as observed by passive health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.http_statuses:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"http status"},model:{value:t.healthchecksActiveHealthyHttpStatuses,callback:function(e){t.healthchecksActiveHealthyHttpStatuses=e},expression:"healthchecksActiveHealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses which represent unhealthiness when produced by proxied traffic, as observed by passive health checks.  ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.tcp_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.unhealthy.tcp_failures,callback:function(e){t.$set(t.formItem.healthchecks.passive.unhealthy,"tcp_failures",e)},expression:"formItem.healthchecks.passive.unhealthy.tcp_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of TCP failures in proxied traffic to consider a target unhealthy, as observed by passive health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.timeouts:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.unhealthy.timeouts,callback:function(e){t.$set(t.formItem.healthchecks.passive.unhealthy,"timeouts",e)},expression:"formItem.healthchecks.passive.unhealthy.timeouts"}}),s("span",{staticClass:"field_desc"},[t._v("Number of timeouts in proxied traffic to consider a target unhealthy, as observed by passive health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.type:"}},[s("RadioGroup",{model:{value:t.formItem.healthchecks.passive.type,callback:function(e){t.$set(t.formItem.healthchecks.passive,"type",e)},expression:"formItem.healthchecks.passive.type"}},[s("Radio",{attrs:{label:"tcp"}},[t._v("tcp")]),s("Radio",{attrs:{label:"http"}},[t._v("http")]),s("Radio",{attrs:{label:"https"}},[t._v("https")])],1),s("span",{staticClass:"field_desc"},[t._v("Whether to perform passive health checks interpreting HTTP/HTTPS statuses, or just check for TCP connection success. Possible values are tcp, http or https (in passive checks, http and https options are equivalent.). ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.healthy.successes:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.healthy.successes,callback:function(e){t.$set(t.formItem.healthchecks.passive.healthy,"successes",e)},expression:"formItem.healthchecks.passive.healthy.successes"}}),s("span",{staticClass:"field_desc"},[t._v("Number of successes in proxied traffic (as defined by healthchecks.passive.healthy.http_statuses) to consider a target healthy, as observed by passive health checks. ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.healthy.http_statuses:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"http status"},model:{value:t.healthchecksPassiveHealthyHttpStatuses,callback:function(e){t.healthchecksPassiveHealthyHttpStatuses=e},expression:"healthchecksPassiveHealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses which represent healthiness when produced by proxied traffic, as observed by passive health checks. ")])],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveService}},[t._v("Save")])],1)],1),t.upstreamId?s("div",[s("Row",[s("Col",{attrs:{span:"12"}},[s("h3",[t._v("Targets:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addTarget}},[t._v("Add Target")])],1)],1),s("TargetTable",{ref:"targetTable",staticStyle:{"margin-top":"10px"},attrs:{upstreamId:t.upstreamId}})],1):t._e()],1)},Ie=[],ke={name:"AddUpstream",data:function(){return{formItem:{name:"",hash_on:"none",hash_fallback:"none",hash_on_header:"",hash_fallback_header:"",hash_on_cookie:"",hash_on_cookie_path:"/",slots:1e4,healthchecks:{active:{https_verify_certificate:!0,unhealthy:{http_statuses:[429,404,500,501,502,503,504,505],tcp_failures:0,timeouts:0,http_failures:0,interval:0},http_path:"/",timeout:1,healthy:{http_statuses:[200,302],interval:0,successes:0},https_sni:"",concurrency:10,type:"http"},passive:{unhealthy:{http_failures:0,http_statuses:[429,500,503],tcp_failures:0,timeouts:0},type:"http",healthy:{successes:0,http_statuses:[200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308]}}}},upstreamNames:[],serviceId:"",edit:!1,upstreamId:""}},computed:{healthchecksActiveUnhealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.active.unhealthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.active.unhealthy.http_statuses=t?t.split(","):[]}},healthchecksActiveHealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.active.healthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.active.healthy.http_statuses=t?t.split(","):[]}},healthchecksPassiveUnHealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.passive.unhealthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.passive.unhealthy.http_statuses=t?t.split(","):[]}},healthchecksPassiveHealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.passive.healthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.passive.healthy.http_statuses=t?t.split(","):[]}}},mounted:function(){this.upstreamId=this.$route.params.id,this.formItem.name=this.$route.params.name,this.edit=null!=this.upstreamId,this.edit&&this.loadUpstream()},methods:{filterMethod:function(t,e){return-1!==e.toUpperCase().indexOf(t.toUpperCase())},saveService:function(){var t=this;""===this.formItem.name&&(this.formItem.name=null),""===this.formItem.hash_on_header&&(this.formItem.hash_on_header=null),""===this.formItem.hash_fallback_header&&(this.formItem.hash_fallback_header=null),""===this.formItem.hash_on_cookie&&(this.formItem.hash_on_cookie=null),""===this.formItem.healthchecks.active.https_sni&&(this.formItem.healthchecks.active.https_sni=null),this.edit?this._patch("/upstreams/"+this.upstreamId,this.formItem,function(){t.$router.go(-1)}):this._post("/upstreams/",this.formItem,function(){t.$router.go(-1)})},loadUpstream:function(){var t=this;this._get("/upstreams/"+this.upstreamId,function(e){t.formItem=e.data,t.$refs.targetTable.loadTargets()})},addTarget:function(){this.$refs.targetTable.showAddTargetModal()}},components:{TargetTable:bt}},ye=ke,Ce=(s("fd38"),Object(n["a"])(ye,be,Ie,!1,null,"76f7d9fe",null));Ce.options.__file="AddUpstream.vue";var we=Ce.exports,xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/consumers"}},[t._v("Consumers")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Consumer List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addConsumer}},[t._v("Add Consumer")])],1)],1),s("ConsumerTable",{attrs:{consumers:t.consumers}}),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)},Se=[],$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.consumers},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1)])},je=[],Te={name:"RouteTable",props:["consumers"],data:function(){return{columns:[{title:"id",key:"id"},{title:"username",key:"username",width:300},{title:"custom_id",key:"custom_id",width:300},{title:"Action",slot:"action",width:150,align:"center"}]}},methods:{edit:function(t){this.$router.push("/consumers/edit/"+t)},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Consumer",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/consumers/"+t,function(){e.$Message.info("Consumer deleted!"),T.$emit("consumerChange",{consumerId:t})})},onCancel:function(){}})}}},Ae=Te,Me=Object(n["a"])(Ae,$e,je,!1,null,"1b448d24",null);Me.options.__file="ConsumerTable.vue";var Fe=Me.exports,He={name:"ConsumerList",data:function(){return{consumers:[],offset:"",offsetStack:[]}},components:{ConsumerTable:Fe},mounted:function(){var t=this;T.$emit("changePage",{activeName:"consumer-list",openNames:["consumer"]}),this.loadConsumers(),T.$on("consumerChange",function(e){var s=e.consumerId,a=!0,o=!1,r=void 0;try{for(var n,i=it()(t.consumers);!(a=(n=i.next()).done);a=!0){var l=n.value;if(l.id===s){t.loadConsumers();break}}}catch(c){o=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}})},methods:{addConsumer:function(){this.$router.push({path:"/consumers/add"})},loadConsumers:function(t){var e,s=this;e=t?"/consumers?offset="+t+"&size=10":"/consumers?size=10",this._get(e,function(t){s.consumers=t.data.data,s.offset=t.data.offset})},next:function(){var t=this.offset;this.loadConsumers(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadConsumers(t)}},destroyed:function(){T.$off("consumerChange")}},Be=He,Re=(s("df4b"),Object(n["a"])(Be,xe,Se,!1,null,"18b6b932",null));Re.options.__file="ConsumerList.vue";var Pe=Re.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/consumers"}},[t._v("Consumer")]),t.consumerId?s("BreadcrumbItem",[t._v(t._s(t.consumerId))]):s("BreadcrumbItem",[t._v("Add Consumer")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"username:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter username ..."},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}}),s("span",{staticClass:"field_desc"},[t._v("The unique username of the consumer. You must send either this field or custom_id with the request.")])],1),s("FormItem",{attrs:{label:"custom_id:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter custom_id ..."},model:{value:t.formItem.custom_id,callback:function(e){t.$set(t.formItem,"custom_id",e)},expression:"formItem.custom_id"}}),s("span",{staticClass:"field_desc"},[t._v("Field for storing an existing unique ID for the consumer - useful for mapping Kong with users in your existing database. You must send either this field or username with the request.")])],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveConsumer}},[t._v("Save")])],1)],1),t.consumerId?s("div",{attrs:{id:"plugins"}},[s("Row",{staticStyle:{"margin-bottom":"10px"}},[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Plugins:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addPlugin()}}},[t._v("Add plugin")])],1)],1),s("PluginTable",{attrs:{plugins:t.plugins}})],1):t._e(),t.consumerId?s("HMACAuthConfigTable",{attrs:{consumerId:t.consumerId}}):t._e(),t.consumerId?s("OAuth2ConfigTable",{attrs:{consumerId:t.consumerId}}):t._e(),t.consumerId?s("BasicAuthConfigTable",{attrs:{consumerId:t.consumerId}}):t._e(),t.consumerId?s("KeyAuthConfigTable",{attrs:{consumerId:t.consumerId}}):t._e(),t.consumerId?s("JWTConfigTable",{attrs:{consumerId:t.consumerId}}):t._e()],1)},Ne=[],ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"config"}},[s("Row",{staticStyle:{"margin-bottom":"10px"}},[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("HMAC Auth Credentials:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.showModal=!0}}},[t._v("Create a Credential")])],1)],1),s("Table",{attrs:{border:"",columns:t.columns,data:t.configList},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])}),s("Modal",{attrs:{title:"Add HMAC Auth Credential"},on:{"on-ok":t.addCredential},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"username:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter username ..."},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1),s("FormItem",{attrs:{label:"secret:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter secret ..."},model:{value:t.formItem.secret,callback:function(e){t.$set(t.formItem,"secret",e)},expression:"formItem.secret"}})],1)],1)],1)],1)},Ee=[],Oe={name:"HMACAuthConfigTable",props:["consumerId"],data:function(){return{configList:[],formItem:{username:"",secret:""},columns:[{title:"id",key:"id"},{title:"username",key:"username",width:100},{title:"secret",key:"secret",width:100},{title:"created_at",key:"createAtStr",width:150},{title:"Action",slot:"action",fixed:"right",width:150,align:"center"}],showModal:!1}},mounted:function(){this.loadCredential()},methods:{loadCredential:function(){var t=this;this._get("/consumers/"+this.consumerId+"/hmac-auth",function(e){t.configList=e.data.data,t.configList.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},addCredential:function(){var t=this;this._post("/consumers/"+this.consumerId+"/hmac-auth",this.formItem,function(){t.loadCredential()})},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Credential",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/consumers/"+e.consumerId+"/hmac-auth/"+t,function(){s.$Message.info("Credential deleted!"),s.loadCredential()})},onCancel:function(){}})}}},Ye=Oe,Ue=(s("7c52"),Object(n["a"])(Ye,ze,Ee,!1,null,"cd1b7030",null));Ue.options.__file="HMACAuthConfigTable.vue";var Le=Ue.exports,qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"config"}},[s("Row",{staticStyle:{"margin-bottom":"10px"}},[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("OAuth 2.0 credentials")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.showModal=!0}}},[t._v("Create a Credential")])],1)],1),s("Table",{attrs:{border:"",columns:t.columns,data:t.configList},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])}),s("Modal",{attrs:{title:"Add OAuth 2.0 Credential"},on:{"on-ok":t.addCredential},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),s("FormItem",{attrs:{label:"client_id:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter client_id ..."},model:{value:t.formItem.client_id,callback:function(e){t.$set(t.formItem,"client_id",e)},expression:"formItem.client_id"}})],1),s("FormItem",{attrs:{label:"client_secret:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter client_secret ..."},model:{value:t.formItem.client_secret,callback:function(e){t.$set(t.formItem,"client_secret",e)},expression:"formItem.client_secret"}})],1),s("FormItem",{attrs:{label:"redirectUrls:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Split by comma"},model:{value:t.redirectUrls,callback:function(e){t.redirectUrls=e},expression:"redirectUrls"}})],1)],1)],1)],1)},We=[],Ke={name:"OAuth2ConfigTable",props:["consumerId"],data:function(){return{configList:[],formItem:{name:"",client_id:"",client_secret:"",redirect_uris:[]},columns:[{title:"id",key:"id"},{title:"name",key:"name",width:160},{title:"client_id",key:"client_id",width:160},{title:"client_secret",key:"client_secret",width:160},{title:"created_at",key:"createAtStr",width:150},{title:"Action",slot:"action",fixed:"right",width:150,align:"center"}],showModal:!1}},mounted:function(){this.loadCredential()},computed:{redirectUrls:{get:function(){return this.formItem.redirect_uris.length>0?this.formItem.redirect_uris.join(","):""},set:function(t){this.formItem.redirect_uris=t?t.split(","):[]}}},methods:{loadCredential:function(){var t=this;this._get("/consumers/"+this.consumerId+"/oauth2",function(e){t.configList=e.data.data,t.configList.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},addCredential:function(){var t=this;this._post("/consumers/"+this.consumerId+"/oauth2",this.formItem,function(){t.loadCredential()})},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Credential",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/consumers/"+e.consumerId+"/oauth2/"+t,function(){s.$Message.info("Credential deleted!"),s.loadCredential()})},onCancel:function(){}})}}},Ve=Ke,Ge=(s("8761"),Object(n["a"])(Ve,qe,We,!1,null,"6ba13e5f",null));Ge.options.__file="OAuth2ConfigTable.vue";var Je=Ge.exports,Qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"config"}},[s("Row",{staticStyle:{"margin-bottom":"10px"}},[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Basic Auth Credentials:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.showModal=!0}}},[t._v("Create a Credential")])],1)],1),s("Table",{attrs:{border:"",columns:t.columns,data:t.configList},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])}),s("Modal",{attrs:{title:"Add Basic Auth Credential"},on:{"on-ok":t.addCredential},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"username:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter username ..."},model:{value:t.formItem.username,callback:function(e){t.$set(t.formItem,"username",e)},expression:"formItem.username"}})],1),s("FormItem",{attrs:{label:"password:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter password ..."},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}})],1)],1)],1)],1)},Xe=[],Ze={name:"BasicAuthConfigTable",props:["consumerId"],data:function(){return{configList:[],formItem:{username:"",password:""},columns:[{title:"id",key:"id"},{title:"username",key:"username",width:160},{title:"password",key:"password",width:280},{title:"created_at",key:"createAtStr",width:150},{title:"Action",slot:"action",fixed:"right",width:150,align:"center"}],showModal:!1}},mounted:function(){this.loadCredential()},methods:{loadCredential:function(){var t=this;this._get("/consumers/"+this.consumerId+"/basic-auth",function(e){t.configList=e.data.data,t.configList.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},addCredential:function(){var t=this;this._post("/consumers/"+this.consumerId+"/basic-auth",this.formItem,function(){t.loadCredential()})},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Credential",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/consumers/"+e.consumerId+"/basic-auth/"+t,function(){s.$Message.info("Credential deleted!"),s.loadCredential()})},onCancel:function(){}})}}},ts=Ze,es=(s("40f8"),Object(n["a"])(ts,Qe,Xe,!1,null,"db47fc30",null));es.options.__file="BasicAuthConfigTable.vue";var ss=es.exports,as=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"config"}},[s("Row",{staticStyle:{"margin-bottom":"10px"}},[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Key Authentication credentials")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.showModal=!0}}},[t._v("Create a Credential")])],1)],1),s("Table",{attrs:{border:"",columns:t.columns,data:t.configList},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])}),s("Modal",{attrs:{title:"Add Key Authentication Credential"},on:{"on-ok":t.addCredential},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter key ..."},model:{value:t.formItem.key,callback:function(e){t.$set(t.formItem,"key",e)},expression:"formItem.key"}})],1)],1)],1)],1)},os=[],rs={name:"KeyAuthConfigTable",props:["consumerId"],data:function(){return{configList:[],formItem:{key:""},columns:[{title:"id",key:"id"},{title:"key",key:"key",width:260},{title:"created_at",key:"createAtStr",width:150},{title:"Action",slot:"action",fixed:"right",width:150,align:"center"}],showModal:!1}},mounted:function(){this.loadCredential()},computed:{redirectUrls:{get:function(){return this.formItem.redirect_uris.length>0?this.formItem.redirect_uris.join(","):""},set:function(t){this.formItem.redirect_uris=t?t.split(","):[]}}},methods:{loadCredential:function(){var t=this;this._get("/consumers/"+this.consumerId+"/key-auth",function(e){t.configList=e.data.data,t.configList.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},addCredential:function(){var t=this;this.key||(this.key=null),this._post("/consumers/"+this.consumerId+"/key-auth",this.formItem,function(){t.loadCredential(),t.key=null})},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Credential",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/consumers/"+e.consumerId+"/key-auth/"+t,function(){s.$Message.info("Credential deleted!"),s.loadCredential()})},onCancel:function(){}})}}},ns=rs,is=(s("210f"),Object(n["a"])(ns,as,os,!1,null,"02513164",null));is.options.__file="KeyAuthConfigTable.vue";var ls=is.exports,cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"config"}},[s("Row",{staticStyle:{"margin-bottom":"10px"}},[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("JWT credentials")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.showModal=!0}}},[t._v("Create a Credential")])],1)],1),s("Table",{attrs:{border:"",columns:t.columns,data:t.configList},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])}),s("Modal",{attrs:{title:"Add JWT Credential"},on:{"on-ok":t.addCredential},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"key:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter key ..."},model:{value:t.formItem.key,callback:function(e){t.$set(t.formItem,"key",e)},expression:"formItem.key"}})],1),s("FormItem",{attrs:{label:"algorithm:"}},[s("Select",{staticStyle:{width:"200px"},model:{value:t.formItem.algorithm,callback:function(e){t.$set(t.formItem,"algorithm",e)},expression:"formItem.algorithm"}},t._l(t.algorithms,function(e){return s("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1),s("FormItem",{attrs:{label:"rsa_public_key:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter rsa_public_key ..."},model:{value:t.formItem.rsa_public_key,callback:function(e){t.$set(t.formItem,"rsa_public_key",e)},expression:"formItem.rsa_public_key"}})],1),s("FormItem",{attrs:{label:"secret:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter secret ..."},model:{value:t.formItem.secret,callback:function(e){t.$set(t.formItem,"secret",e)},expression:"formItem.secret"}})],1)],1)],1)],1)},us=[],ms={name:"JWTConfigTable",props:["consumerId"],data:function(){return{configList:[],formItem:{key:"",algorithm:"",rsa_public_key:"",secret:""},columns:[{title:"id",key:"id"},{title:"key",key:"key",width:160},{title:"algorithm",key:"algorithm",width:160},{title:"rsa_public_key",key:"rsa_public_key",width:160},{title:"secret",key:"secret",width:160},{title:"created_at",key:"createAtStr",width:150},{title:"Action",slot:"action",fixed:"right",width:150,align:"center"}],showModal:!1,algorithms:["HS256","HS384","HS512","RS256","ES256"]}},mounted:function(){this.loadCredential()},methods:{loadCredential:function(){var t=this;this._get("/consumers/"+this.consumerId+"/jwt",function(e){t.configList=e.data.data,t.configList.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},addCredential:function(){var t=this;this.formItem.rsa_public_key||(this.formItem.rsa_public_key=null),this.formItem.secret||(this.formItem.secret=null),this.formItem.key||(this.formItem.key=null),this.formItem.algorithm||(this.formItem.algorithm=null),this._post("/consumers/"+this.consumerId+"/jwt",this.formItem,function(){t.loadCredential(),t.formItem.algorithm=null,t.formItem.key=null,t.formItem.secret=null,t.formItem.rsa_public_key=null})},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Credential",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/consumers/"+e.consumerId+"/jwt/"+t,function(){s.$Message.info("Credential deleted!"),s.loadCredential()})},onCancel:function(){}})}}},hs=ms,ds=(s("d23b"),Object(n["a"])(hs,cs,us,!1,null,"56ecd378",null));ds.options.__file="JWTConfigTable.vue";var ps=ds.exports,fs={name:"AddConsumer",components:{PluginTable:xt,HMACAuthConfigTable:Le,OAuth2ConfigTable:Je,BasicAuthConfigTable:ss,KeyAuthConfigTable:ls,JWTConfigTable:ps},data:function(){return{formItem:{username:"",custom_id:""},consumerId:"",serviceIdCanChanged:!0,plugins:[],configHmacAuth:[]}},mounted:function(){var t=this;this.consumerId=this.$route.params.id,this.consumerId&&(this.loadConsumer(),this.loadPlugins()),T.$on("pluginChange",function(e){var s=e.pluginId,a=!0,o=!1,r=void 0;try{for(var n,i=it()(t.plugins);!(a=(n=i.next()).done);a=!0){var l=n.value;if(l.id===s){t.loadPlugins();break}}}catch(c){o=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}})},methods:{saveConsumer:function(){var t=this;""===this.formItem.username&&(this.formItem.username=null),""===this.formItem.custom_id&&(this.formItem.custom_id=null),this.consumerId?this._patch("/consumers/"+this.consumerId,this.formItem,function(){t.$router.go(-1)}):this._post("/consumers/",this.formItem,function(){t.$router.go(-1)})},loadConsumer:function(){var t=this;this._get("/consumers/"+this.consumerId,function(e){t.formItem=e.data})},loadPlugins:function(){var t=this;this._get("/consumers/"+this.consumerId+"/plugins",function(e){t.plugins=e.data.data,t.plugins.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},addPlugin:function(){this.$router.push({path:"/plugins/add/consumer/".concat(this.consumerId)})}},destroyed:function(){T.$off("pluginChange")}},vs=fs,_s=(s("1195"),Object(n["a"])(vs,De,Ne,!1,null,"0799ccbc",null));_s.options.__file="AddConsumer.vue";var gs=_s.exports,bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/plugins"}},[t._v("Plugin")]),t.pluginId?s("BreadcrumbItem",[t._v(t._s(t.pluginId))]):s("BreadcrumbItem",[t._v("Add Plugin")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":140}},[s("FormItem",{attrs:{label:"name:"}},[s("Select",{staticClass:"text_input",attrs:{filterable:""},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}},t._l(t.enabledPlugins,function(e){return s("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1),s("span",{staticClass:"field_desc"},[s("a",{attrs:{href:"https://docs.konghq.com/hub/",target:"_blank"}},[t._v("Plugin's document")])])],1),s("FormItem",{attrs:{label:"service:"}},[s("Select",{ref:"service",staticClass:"text_input_multiple",attrs:{filterable:"",clearable:""},model:{value:t.serviceId,callback:function(e){t.serviceId=e},expression:"serviceId"}},t._l(t.services,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.id+" "+e.name))])}),1),s("span",{staticClass:"field_desc"},[t._v("If this plugin no need assign to a service,leave it blank.")])],1),s("FormItem",{attrs:{label:"route:"}},[s("Select",{staticClass:"text_input_multiple",attrs:{filterable:"",clearable:""},model:{value:t.formItem.route.id,callback:function(e){t.$set(t.formItem.route,"id",e)},expression:"formItem.route.id"}},t._l(t.routes,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.id)+"\n                ")])}),1),s("span",{staticClass:"field_desc"},[t._v("If this plugin no need assign to a route,leave it blank.")])],1),s("FormItem",{attrs:{label:"consumer:"}},[s("Select",{staticClass:"text_input_multiple",attrs:{filterable:"",clearable:""},model:{value:t.formItem.consumer.id,callback:function(e){t.$set(t.formItem.consumer,"id",e)},expression:"formItem.consumer.id"}},t._l(t.consumers,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v("\n                    "+t._s(e.id+" "+e.username+" "+e.custom_id)+"\n                ")])}),1),s("span",{staticClass:"field_desc"},[t._v("If this plugin no need assign to a consumer,leave it blank.")])],1),s("FormItem",{attrs:{label:"run_on:"}},[s("Select",{staticClass:"text_input",attrs:{filterable:""},model:{value:t.formItem.run_on,callback:function(e){t.$set(t.formItem,"run_on",e)},expression:"formItem.run_on"}},t._l(t.runOns,function(e){return s("Option",{key:e,attrs:{value:e}},[t._v("\n                    "+t._s(e)+"\n                ")])}),1),s("span",{staticClass:"field_desc"},[t._v("Control on which Kong nodes this plugin will run, given a Service Mesh scenario. ")])],1),s("FormItem",{attrs:{label:"enable:"}},[s("i-switch",{attrs:{size:"large"},model:{value:t.formItem.enabled,callback:function(e){t.$set(t.formItem,"enabled",e)},expression:"formItem.enabled"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("true")]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("false")])]),s("span",{staticClass:"field_desc"},[t._v("Whether the plugin is applied.")])],1),t._l(t.flatFields,function(e){return s("FormItem",{key:e.fieldName,attrs:{"label-width":300,label:e.fieldName+":"}},["string"===e.fieldType?s("Input",{staticClass:"text_input",attrs:{name:e.fieldName,value:e.defaultValue},on:{input:function(s){t.valueChange(s,e)}}}):t._e(),"array"===e.fieldType&&"string"===e.elementType?s("Input",{staticClass:"text_input",attrs:{name:e.fieldName,placeholder:"Split by comma",value:e.defaultValue},on:{input:function(s){t.valueChange(s,e)}}}):t._e(),"set"===e.fieldType&&"string"===e.elementType?s("Input",{staticClass:"text_input",attrs:{name:e.fieldName,placeholder:"Split by comma",value:e.defaultValue},on:{input:function(s){t.valueChange(s,e)}}}):t._e(),"number"===e.fieldType?s("InputNumber",{staticClass:"text_input",attrs:{name:e.fieldName,value:e.defaultValue},on:{input:function(s){t.valueChange(s,e)}}}):t._e(),"integer"===e.fieldType?s("InputNumber",{staticClass:"text_input",attrs:{name:e.fieldName,value:e.defaultValue},on:{input:function(s){t.valueChange(s,e)}}}):t._e(),"boolean"===e.fieldType?s("i-switch",{attrs:{name:e.fieldName,size:"large",value:e.defaultValue},on:{input:function(s){t.valueChange(s,e)}}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("true")]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("false")])]):t._e()],1)}),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.savePlugin}},[t._v("Save")])],1)],2)],1)},Is=[],ks=s("a6eb"),ys=s.n(ks),Cs=s("7564"),ws=s.n(Cs),xs={name:"AddPlugin",data:function(){return{pluginId:"",formItem:{name:"",consumer:{},service:{},route:{},config:{},enabled:!0,run_on:"first"},enabledPlugins:[],schemaFields:[],flatFields:[],consumers:[],services:[],routes:[],runOns:["first","second","all"]}},watch:{name:function(t,e){e&&(this.formItem.config={}),this.loadPluginSchema()}},computed:{name:function(){return this.formItem.name},serviceId:{get:function(){return this.formItem.service.id},set:function(t){t?(this.formItem.service.id=t,this.loadRoutes()):this.formItem.service.id=null}}},mounted:function(){this.serviceId=this.$route.params.serviceId,this.formItem.consumer.id=this.$route.params.consumerId,this.pluginId=this.$route.params.pluginId,this.pluginId?this.loadPlugin():(this.loadPlugins(),this.loadConsumers(),this.loadServices())},methods:{loadPlugin:function(){var t=this;this._get("/plugins/"+this.pluginId,function(e){t.formItem=e.data,t.serviceId=t.formItem.service.id,t.formItem.consumer||(t.formItem.consumer={}),t.formItem.route||(t.formItem.route={}),t.formItem.service||(t.formItem.service={}),t.loadPlugins(),t.loadConsumers(),t.loadServices()})},loadPlugins:function(){var t=this;this._get("/plugins/enabled",function(e){t.enabledPlugins=e.data.enabled_plugins})},loadPluginSchema:function(){var t=this;this.name&&this._get("/plugins/schema/"+this.name,function(e){t.schemaFields=e.data.fields,t.flatFields=[],t.unpackFields(t.schemaFields,"config");var s=!0,a=!1,o=void 0;try{for(var r,n=it()(t.flatFields);!(s=(r=n.next()).done);s=!0){var i=r.value;if("map"===i.fieldType||"record"===i.elementType){t.$Message.warning("Sorry,We not support this plugin yet"),t.flatFields=[];break}}}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}})},unpackFields:function(t,e){for(var s=0;s<t.length;s++){var a=t[s],o=ws()(a),r=o[0][0],n=o[0][1],i=n.type;if("record"===i){var l=ws()(n.fields);this.unpackRecord(l,e+"."+r)}else{var c=void 0,u=n.default;n.elements&&(c=n.elements.type,u=n.elements.default);var m=e+"."+r,h=this.formField(m,i,c,u,n.values);this.flatFields.push(h),this.valueChange(h.defaultValue,h)}}},unpackRecord:function(t,e){for(var s=0;s<t.length;s++){var a=t[s],o=a[0];if(isNaN(o)){var r=void 0,n=a[1].default;a[1].elements&&(r=a[1].elements.type,n=a[1].elements.default);var i=e+"."+o,l=this.formField(i,a[1].type,r,n,a[1].values);this.flatFields.push(l),this.valueChange(l.defaultValue,l)}}},formField:function(t,e,s,a,o){for(var r=t.split("."),n=this.formItem.config,i=1;i<r.length;i++){var l=r[i];if(i<r.length-1){if(!n[l])break;n=n[l]}else{var c=n[l];void 0!==c&&(a="array"===e||"set"===e?c.join(","):c)}}return{fieldName:t,fieldType:e,defaultValue:a,elementType:s,mapValueFields:o}},loadConsumers:function(){var t=this,e="/consumers?size=1000";this._get(e,function(e){t.consumers=e.data.data})},loadServices:function(){var t=this;this._get("/services",function(e){t.services=e.data.data})},loadRoutes:function(){var t=this;this.routes=[];var e="/routes?size=1000";this.formItem.service.id&&(e="/services/"+this.formItem.service.id+"/routes"),this._get(e,function(e){t.routes=e.data.data})},valueChange:function(t,e){if(null!=t){var s=e.fieldName,a=e.fieldType,o=e.elementType;if("array"===a&&"string"===o&&(t=t.split(",")),"array"===a&&"number"===o){var r=t.split(",");t=[],r.forEach(function(e){t.push(ys()(e))})}for(var n=s.split("."),i=this.formItem.config,l=1;l<n.length;l++){var c=n[l];l<n.length-1?(i[c]||(i[c]={}),i=i[c]):i[c]=t}}},savePlugin:function(){var t=this,e=JSON.parse(Pt()(this.formItem));e.service.id||(e.service=null),e.consumer.id||(e.consumer=null),e.route.id||(e.route=null),this.pluginId?this._patch("/plugins/"+this.pluginId,e,function(){t.$router.go(-1)}):this._post("/plugins",e,function(){t.$router.go(-1)})},clearService:function(){this.formItem.service.id="",this.$refs.service.clearSingleSelect()}}},Ss=xs,$s=(s("fecf"),Object(n["a"])(Ss,bs,Is,!1,null,"5440dac4",null));$s.options.__file="AddPlugin.vue";var js=$s.exports,Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/plugins"}},[t._v("Plugin")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Plugin List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addPlugin}},[t._v("Add Plugin")])],1)],1),s("PluginTable",{attrs:{plugins:t.plugins}}),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)},As=[],Ms={name:"PluginList",data:function(){return{plugins:[],offset:"",offsetStack:[]}},components:{PluginTable:xt},mounted:function(){var t=this;this.loadPlugins(null),T.$emit("changePage",{activeName:"plugin-list",openNames:["plugin"]}),T.$on("pluginChange",function(e){var s=e.pluginId,a=!0,o=!1,r=void 0;try{for(var n,i=it()(t.plugins);!(a=(n=i.next()).done);a=!0){var l=n.value;if(l.id===s){t.loadPlugins();break}}}catch(c){o=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}})},methods:{loadPlugins:function(t){var e,s=this;e=t?"/plugins?offset="+t+"&size=10":"/plugins?size=10",this._get(e,function(t){s.plugins=t.data.data,s.offset=t.data.offset,s.plugins.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},addPlugin:function(){this.$router.push({path:"/plugins/add"})},loadRoutes:function(t){var e,s=this;e=t?"/routes?offset="+t+"&size=10":"/routes?size=10",this._get(e,function(t){s.routes=t.data.data,s.offset=t.data.offset})},next:function(){var t=this.offset;this.loadPlugins(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadPlugins(t)}},destroyed:function(){T.$off("pluginChange")}},Fs=Ms,Hs=Object(n["a"])(Fs,Ts,As,!1,null,"67d26bd8",null);Hs.options.__file="PluginList.vue";var Bs=Hs.exports;a["default"].use(h["a"]);var Rs=new h["a"]({routes:[{path:"/login",name:"login",component:g},{path:"/hello",name:"hello",component:w},{path:"/config",name:"config",component:Vt},{path:"/",component:G,children:[{path:"services",component:at},{path:"services/add",component:Et},{path:"services/edit/:id",component:Et},{path:"services/:id",component:Ft},{path:"routes",component:ne},{path:"routes/add",component:he},{path:"routes/edit/:id",component:he},{path:"routes/add/:serviceId",component:he},{path:"upstreams",component:ge},{path:"upstreams/add",component:we},{path:"upstreams/edit/:id",component:we},{path:"upstreams/add/:name",component:we},{path:"consumers",component:Pe},{path:"consumers/add",component:gs},{path:"consumers/edit/:id",component:gs},{path:"plugins",component:Bs},{path:"plugins/add",component:js},{path:"plugins/add/service/:serviceId",component:js},{path:"plugins/add/consumer/:consumerId",component:js},{path:"plugins/edit/:pluginId",component:js},{path:"",component:te}]}]}),Ps={install:function(t){function e(t){var e=localStorage.address;return null!=e||(t.$router.push("/config"),!1)}function s(t,e){t.response&&404!==t.response.status?e.$Message.error({content:t.response.data.message,duration:5}):(e.$Message.error({content:"Failed to connect with your kong admin api,please check the address you input,or your computer has no permission to visit the admin api",duration:10}),e.$router.push("/config"))}t.prototype._post=function(t,a,o){var r=this,n=e(r);if(n){var i=localStorage.address;Lt.a.post(i+t,a).then(function(t){o(t)}).catch(function(t){s(t,r)})}},t.prototype._get=function(t,a,o){var r=this,n=e(r);if(n){var i=localStorage.address;Lt.a.get(i+t).then(function(t){a(t)}).catch(function(t){null!=o?o(t):s(t,r)})}},t.prototype._delete=function(t,a,o){var r=this,n=e(r);if(n){var i=localStorage.address;Lt.a.delete(i+t).then(function(t){a(t)}).catch(function(t){null!=o?o(t):s(t,r)})}},t.prototype._patch=function(t,a,o){var r=this,n=e(r);if(n){var i=localStorage.address;Lt.a.patch(i+t,a).then(function(t){o(t)}).catch(function(t){s(t,r)})}}}},Ds=s("d4f1"),Ns=s.n(Ds),zs=s("bdfa"),Es=s.n(zs),Os=s("c6c9"),Ys=s.n(Os);a["default"].use(Ns.a),a["default"].use(m.a),a["default"].config.lang="en-US",a["default"].locale("en-US",Es.a),a["default"].locale("zh-CN",Ys.a),a["default"].config.productionTip=!0,a["default"].use(Ps),new a["default"]({render:function(t){return t(c)},router:Rs}).$mount("#app")},"59cf":function(t,e,s){},"5c75":function(t,e,s){"use strict";var a=s("a194"),o=s.n(a);o.a},6768:function(t,e,s){"use strict";var a=s("8708"),o=s.n(a);o.a},7503:function(t,e,s){},"77a0":function(t,e,s){},"7c52":function(t,e,s){"use strict";var a=s("4358"),o=s.n(a);o.a},"847f":function(t,e,s){},8708:function(t,e,s){},8761:function(t,e,s){"use strict";var a=s("7503"),o=s.n(a);o.a},"87a0":function(t,e,s){"use strict";var a=s("48c5"),o=s.n(a);o.a},"89ad":function(t,e,s){},"8bc2":function(t,e,s){},a194:function(t,e,s){},a40c:function(t,e,s){},af2e:function(t,e,s){},d23b:function(t,e,s){"use strict";var a=s("30ec"),o=s.n(a);o.a},da85:function(t,e,s){},df4b:function(t,e,s){"use strict";var a=s("0a7f"),o=s.n(a);o.a},df7b:function(t,e,s){"use strict";var a=s("0b24"),o=s.n(a);o.a},e3bc:function(t,e,s){},e3db:function(t,e,s){},ec5c:function(t,e,s){"use strict";var a=s("59cf"),o=s.n(a);o.a},f185:function(t,e,s){},f2e7:function(t,e,s){"use strict";var a=s("e3db"),o=s.n(a);o.a},f653:function(t,e,s){},fd38:function(t,e,s){"use strict";var a=s("da85"),o=s.n(a);o.a},fecf:function(t,e,s){"use strict";var a=s("275b"),o=s.n(a);o.a}});
//# sourceMappingURL=app.f2e0d3a0.js.map