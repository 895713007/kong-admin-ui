(function(t){function e(e){for(var a,i,n=e[0],c=e[1],l=e[2],u=0,m=[];u<n.length;u++)i=n[u],o[i]&&m.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==o[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},o={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/kong-admin-ui/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var h=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02e3":function(t,e,s){"use strict";var a=s("1e96"),o=s.n(a);o.a},"034f":function(t,e,s){"use strict";var a=s("3a10"),o=s.n(a);o.a},1548:function(t,e,s){"use strict";var a=s("8b88"),o=s.n(a);o.a},"18ef":function(t,e,s){var a={"./af":"4cef","./af.js":"4cef","./ar":"7c9f","./ar-dz":"46ef","./ar-dz.js":"46ef","./ar-kw":"9b7b","./ar-kw.js":"9b7b","./ar-ly":"2d53","./ar-ly.js":"2d53","./ar-ma":"5521","./ar-ma.js":"5521","./ar-sa":"25dd","./ar-sa.js":"25dd","./ar-tn":"ccca","./ar-tn.js":"ccca","./ar.js":"7c9f","./az":"d38c","./az.js":"d38c","./be":"bb2b","./be.js":"bb2b","./bg":"fedf","./bg.js":"fedf","./bm":"80aa","./bm.js":"80aa","./bn":"d916","./bn.js":"d916","./bo":"4d28","./bo.js":"4d28","./br":"9562","./br.js":"9562","./bs":"41d6","./bs.js":"41d6","./ca":"499d","./ca.js":"499d","./cs":"3e8f","./cs.js":"3e8f","./cv":"e10f","./cv.js":"e10f","./cy":"f559","./cy.js":"f559","./da":"c36b","./da.js":"c36b","./de":"4cc8","./de-at":"6464","./de-at.js":"6464","./de-ch":"7404","./de-ch.js":"7404","./de.js":"4cc8","./dv":"131c","./dv.js":"131c","./el":"84a7","./el.js":"84a7","./en-au":"0857","./en-au.js":"0857","./en-ca":"e7c3","./en-ca.js":"e7c3","./en-gb":"4a79","./en-gb.js":"4a79","./en-ie":"0205","./en-ie.js":"0205","./en-il":"7aec","./en-il.js":"7aec","./en-nz":"f3f5","./en-nz.js":"f3f5","./eo":"c2ed","./eo.js":"c2ed","./es":"c97f","./es-do":"6832","./es-do.js":"6832","./es-us":"a08e","./es-us.js":"a08e","./es.js":"c97f","./et":"2acc","./et.js":"2acc","./eu":"bfe1","./eu.js":"bfe1","./fa":"3b9c","./fa.js":"3b9c","./fi":"1e42","./fi.js":"1e42","./fo":"62a4","./fo.js":"62a4","./fr":"d719","./fr-ca":"4aa6","./fr-ca.js":"4aa6","./fr-ch":"39a1","./fr-ch.js":"39a1","./fr.js":"d719","./fy":"2ec6","./fy.js":"2ec6","./gd":"c9b3","./gd.js":"c9b3","./gl":"430f","./gl.js":"430f","./gom-latn":"3b54","./gom-latn.js":"3b54","./gu":"1769","./gu.js":"1769","./he":"c05b","./he.js":"c05b","./hi":"97f4","./hi.js":"97f4","./hr":"822a","./hr.js":"822a","./hu":"0498","./hu.js":"0498","./hy-am":"eebb","./hy-am.js":"eebb","./id":"deb1","./id.js":"deb1","./is":"9f11","./is.js":"9f11","./it":"dca7","./it.js":"dca7","./ja":"719e","./ja.js":"719e","./jv":"4bc3","./jv.js":"4bc3","./ka":"adcc","./ka.js":"adcc","./kk":"19a4","./kk.js":"19a4","./km":"4176","./km.js":"4176","./kn":"ff10","./kn.js":"ff10","./ko":"05d0","./ko.js":"05d0","./ku":"48d9","./ku.js":"48d9","./ky":"2c23","./ky.js":"2c23","./lb":"f410","./lb.js":"f410","./lo":"7117","./lo.js":"7117","./lt":"3957","./lt.js":"3957","./lv":"ac40","./lv.js":"ac40","./me":"f647","./me.js":"f647","./mi":"4e48","./mi.js":"4e48","./mk":"b4e7","./mk.js":"b4e7","./ml":"99ee","./ml.js":"99ee","./mn":"ca88","./mn.js":"ca88","./mr":"2288","./mr.js":"2288","./ms":"d9d0","./ms-my":"b858","./ms-my.js":"b858","./ms.js":"d9d0","./mt":"129a","./mt.js":"129a","./my":"5751","./my.js":"5751","./nb":"d6aa","./nb.js":"d6aa","./ne":"8656","./ne.js":"8656","./nl":"0ccc","./nl-be":"50d8","./nl-be.js":"50d8","./nl.js":"0ccc","./nn":"eea8","./nn.js":"eea8","./pa-in":"bdfb","./pa-in.js":"bdfb","./pl":"83d1","./pl.js":"83d1","./pt":"0322","./pt-br":"ec94","./pt-br.js":"ec94","./pt.js":"0322","./ro":"def5","./ro.js":"def5","./ru":"5d14","./ru.js":"5d14","./sd":"14c2","./sd.js":"14c2","./se":"cf95","./se.js":"cf95","./si":"a1bc","./si.js":"a1bc","./sk":"839f","./sk.js":"839f","./sl":"22cd","./sl.js":"22cd","./sq":"df9b","./sq.js":"df9b","./sr":"046a","./sr-cyrl":"f072","./sr-cyrl.js":"f072","./sr.js":"046a","./ss":"f751","./ss.js":"f751","./sv":"e9fc","./sv.js":"e9fc","./sw":"7935","./sw.js":"7935","./ta":"f03f","./ta.js":"f03f","./te":"2a84","./te.js":"2a84","./tet":"2589","./tet.js":"2589","./tg":"6988","./tg.js":"6988","./th":"4a6e","./th.js":"4a6e","./tl-ph":"4250","./tl-ph.js":"4250","./tlh":"ad71","./tlh.js":"ad71","./tr":"824a","./tr.js":"824a","./tzl":"8652","./tzl.js":"8652","./tzm":"7013","./tzm-latn":"8cc2","./tzm-latn.js":"8cc2","./tzm.js":"7013","./ug-cn":"4350","./ug-cn.js":"4350","./uk":"b800","./uk.js":"b800","./ur":"cbac","./ur.js":"cbac","./uz":"ac82","./uz-latn":"6e55","./uz-latn.js":"6e55","./uz.js":"ac82","./vi":"1874","./vi.js":"1874","./x-pseudo":"02cc","./x-pseudo.js":"02cc","./yo":"307c","./yo.js":"307c","./zh-cn":"f427","./zh-cn.js":"f427","./zh-hk":"0a18","./zh-hk.js":"0a18","./zh-tw":"1578","./zh-tw.js":"1578"};function o(t){var e=r(t);return s(e)}function r(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}o.keys=function(){return Object.keys(a)},o.resolve=r,t.exports=o,o.id="18ef"},"1b13":function(t,e,s){"use strict";var a=s("37c7"),o=s.n(a);o.a},"1d53":function(t,e,s){"use strict";var a=s("f653"),o=s.n(a);o.a},"1e96":function(t,e,s){},"2d75":function(t,e,s){"use strict";var a=s("c6db"),o=s.n(a);o.a},"355c":function(t,e,s){"use strict";var a=s("5ee9"),o=s.n(a);o.a},"37c7":function(t,e,s){},"3a10":function(t,e,s){},"3bb4":function(t,e,s){},4805:function(t,e,s){"use strict";var a=s("f185"),o=s.n(a);o.a},"4f07":function(t,e,s){},"519f":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("175c"),s("bc97"),s("a5be");var a=s("3a00"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i=(s("034f"),s("25c1")),n={},c=Object(i["a"])(n,o,r,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,h=s("1808"),u=s.n(h);s("bee7");a["default"].use(u.a);var m=s("081a"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{attrs:{id:"login"}},[s("Col",{attrs:{span:"8"}},[t._v(" ")]),s("Col",{attrs:{span:"8"}},[s("Card",{attrs:{"dis-hover":""}},[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("Login")]),s("Form",{ref:"formInline",attrs:{model:t.formInline,rules:t.ruleInline}},[s("FormItem",{attrs:{prop:"user"}},[s("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),s("FormItem",{attrs:{prop:"password"}},[s("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formInline")}}},[t._v("Signin")])],1)],1)],1)],1),s("Col",{attrs:{span:"8"}},[t._v(" ")])],1)},d=[],f=(s("d85c"),{data:function(){return{formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:20,message:"用户名长度1-20",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}]}}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$Message.success("Success!"):e.$Message.error("Fail!")})}}}),v=f,_=(s("f2e7"),Object(i["a"])(v,p,d,!1,null,"c4e99cfc",null));_.options.__file="Login.vue";var b=_.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._m(0),s("h3",[t._v("Installed CLI Plugins")]),t._m(1),s("h3",[t._v("Essential Links")]),t._m(2),s("h3",[t._v("Ecosystem")]),t._m(3)])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("\n    For a guide and recipes on how to configure / customize this project,"),s("br"),t._v("\n    check out the\n    "),s("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(".\n  ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),s("li",[s("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),s("li",[s("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),s("li",[s("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],k={name:"HelloWorld",props:{msg:String}},y=k,x=(s("4805"),Object(i["a"])(y,g,I,!1,null,"b9167eee",null));x.options.__file="HelloWorld.vue";var C=x.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout"},[s("Layout",[s("Header",{staticStyle:{padding:"0px"}},[s("HeaderComponent")],1),s("Layout",[s("Sider",{attrs:{"hide-trigger":""}},[s("keep-alive",[s("Menu")],1)],1),s("Content",[s("router-view",{staticClass:"router-content"})],1)],1),s("Footer",[s("FooterComponent")],1)],1)],1)},j=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{attrs:{id:"menu"}},[s("Col",{attrs:{span:"24"}},[s("Menu",{ref:"menu",attrs:{theme:t.theme2,width:"auto","active-name":t.activeName,"open-names":t.openNames}},[s("router-link",{attrs:{to:"/"}},[s("MenuItem",{attrs:{name:"index"}},[s("Icon",{attrs:{type:"ios-home"}}),t._v("\n                    Kong Info\n                ")],1)],1),s("Submenu",{attrs:{name:"service"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-paper"}}),t._v("\n                    Service\n                ")],1),s("router-link",{attrs:{to:"/services"}},[s("MenuItem",{attrs:{name:"service-list"}},[t._v("Service List")])],1)],2),s("Submenu",{attrs:{name:"route"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-people"}}),t._v("\n                    Route\n                ")],1),s("router-link",{attrs:{to:"/routes"}},[s("MenuItem",{attrs:{name:"route-list"}},[t._v("Route List")])],1)],2),s("Submenu",{attrs:{name:"upstream"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-stats"}}),t._v("\n                    Upstream\n                ")],1),s("router-link",{attrs:{to:"/upstreams"}},[s("MenuItem",{attrs:{name:"upstream-list"}},[t._v("Upstream List")])],1)],2)],1)],1)],1)},$=[],T=new a["default"],A={data:function(){return{theme2:"dark",activeName:"",openNames:[]}},mounted:function(){var t=this;T.$on("changePage",function(e){var s=e.activeName,a=e.openNames;t.activeName=s,t.openNames=a,t.$nextTick(function(){t.$refs.menu&&(t.$refs.menu.updateOpened(),t.$refs.menu.updateActiveName())})})},destroyed:function(){T.$off("changePage")}},R=A,H=(s("fb62"),Object(i["a"])(R,S,$,!1,null,"f7c5a2a0",null));H.options.__file="Menu.vue";var F=H.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",[s("Col",{attrs:{span:"3"}},[s("div",{attrs:{id:"title"}},[t._v("Kong Admin UI")])]),s("Col",{staticClass:"config",attrs:{span:"21"}},[s("div",[s("p",[s("router-link",{attrs:{to:"/config"}},[t._v(t._s(t.address))])],1)])])],1)},N=[],B={name:"Header",data:function(){return{address:"aaa"}},mounted:function(){this.address=localStorage.address}},D=B,E=(s("02e3"),Object(i["a"])(D,M,N,!1,null,"e0d5d752",null));E.options.__file="Header.vue";var U=E.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",[s("a",{attrs:{href:"https://github.com/pocketdigi/kong-admin-ui",target:"_blank"}},[s("i",{staticClass:"ivu-icon ivu-icon-logo-github"})])]),s("p",{staticStyle:{"margin-top":"10px","font-size":"0.6rem"}},[t._v("© Kong Admin UI 2019 "),s("span",[s("a",{attrs:{href:"https://www.pocketdigi.com/book/kong/"}},[t._v("Kong中文文档")])])])])}],O={name:"Footer"},Y=O,q=(s("ec5c"),Object(i["a"])(Y,P,z,!1,null,"ade9bf66",null));q.options.__file="Footer.vue";var L=q.exports,W={name:"index",methods:{},components:{Menu:F,HeaderComponent:U,FooterComponent:L},mounted:function(){}},K=W,G=(s("1d53"),Object(i["a"])(K,w,j,!1,null,"0e040310",null));G.options.__file="Index.vue";var V=G.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/services"}},[t._v("Service")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Service List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addService}},[t._v("Add Service")])],1)],1),s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.services,loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.show(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])}),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)],1)},Q=[],X=s("ba8f"),Z=s.n(X),tt={name:"ServiceList",data:function(){return{loading:!0,columns:[{title:"id",key:"id",width:110},{title:"name",slot:"name",width:100},{title:"host",key:"host",width:110},{title:"created_at",key:"createAtStr",width:160},{title:"protocol",key:"protocol",width:90},{title:"port",key:"port",width:70},{title:"path",key:"path"},{title:"updated_at",key:"updatedAtStr",width:160},{title:"Action",slot:"action",width:150,align:"center"}],services:[],offset:"",offsetStack:[]}},mounted:function(){T.$emit("changePage",{activeName:"service-list",openNames:["service"]}),this.loadServices()},methods:{addService:function(){this.$router.push({path:"/services/add"})},show:function(t){this.$router.push("/services/"+t)},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Service",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/services/"+t,function(){e.$Message.info("Service deleted!"),e.loadServices()})},onCancel:function(){}})},loadServices:function(t){var e,s=this;t?e="/services?offset="+t+"&size=10":(e="/services?size=10",this.offsetStack=[],this.offset=""),this.loading=!0,this._get(e,function(t){s.services=[],Array.prototype.push.apply(s.services,t.data.data),s.services.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var s=Z.a.unix(t.updated_at);t.updatedAtStr=s.format("YYYY-MM-DD HH:mm:ss")}),s.offset=t.data.offset,s.loading=!1})},next:function(){console.log("next");var t=this.offset;this.loadServices(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadServices(t)}}},et=tt,st=(s("1548"),Object(i["a"])(et,J,Q,!1,null,"63ebc721",null));st.options.__file="ServiceList.vue";var at=st.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/services"}},[t._v("Service")]),s("BreadcrumbItem",[t._v("Service Detail")])],1),s("div",{attrs:{id:"service-info"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Service Info:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.editService}},[t._v("Edit")])],1)],1),s("Card",[s("Row",[s("Col",{attrs:{span:"9"}},[s("span",[t._v("id:")]),t._v(" "+t._s(t.service.id))]),s("Col",{attrs:{span:"4"}},[s("span",[t._v("name:")]),t._v(" "+t._s(t.service.name))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("create_at:")]),t._v(" "+t._s(t.service.createAtStr))]),s("Col",{attrs:{span:"5"}},[s("span",[t._v("updated_at:")]),t._v(" "+t._s(t.service.updatedAtStr))])],1),s("Row",[s("Col",{attrs:{span:"6"}},[s("span",[t._v("host:")]),t._v(" "+t._s(t.service.host))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("protocol:")]),t._v(" "+t._s(t.service.protocol))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("path:")]),t._v(" "+t._s(t.service.path))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("port:")]),t._v(" "+t._s(t.service.port))])],1),s("Row",[s("Col",{attrs:{span:"6"}},[s("span",[t._v("connect_timeout:")]),t._v(" "+t._s(t.service.connect_timeout))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("read_timeout:")]),t._v(" "+t._s(t.service.read_timeout))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("write_timeout:")]),t._v(" "+t._s(t.service.write_timeout))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("retries:")]),t._v(" "+t._s(t.service.retries))])],1)],1)],1),s("Divider"),s("div",{attrs:{id:"route-info"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Route Info:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addRoute}},[t._v("Add")])],1)],1),s("div",[s("RouteTable",{attrs:{routes:t.routes}})],1)],1),s("Divider"),s("div",{attrs:{id:"upstream-info"}},[s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Service's Upstream:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"50%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.editUpstream()}}},[t._v("Edit")])],1)],1),s("Card",[t.upstreamExisted?s("div",[s("Row",[s("Col",{attrs:{span:"9"}},[s("span",[t._v("id:")]),t._v(" "+t._s(t.upstream.id))]),s("Col",{attrs:{span:"4"}},[s("span",[t._v("name:")]),t._v(" "+t._s(t.upstream.name))]),s("Col",{attrs:{span:"6"}},[s("span",[t._v("create_at:")]),t._v(" "+t._s(t.upstream.createAtStr))]),s("Col",{attrs:{span:"5"}},[s("span",[t._v("hash_on:")]),t._v(" "+t._s(t.upstream.hash_on))])],1),s("Row",[s("Col",{attrs:{span:"8"}},[s("span",[t._v("hash_on_cookie_path:")]),t._v(" "+t._s(t.upstream.hash_on_cookie_path))]),s("Col",{attrs:{span:"8"}},[s("span",[t._v("hash_fallback:")]),t._v(" "+t._s(t.upstream.hash_fallback))]),s("Col",{attrs:{span:"8"}},[s("span",[t._v("slots:")]),t._v(" "+t._s(t.upstream.slots))])],1),s("Collapse",{staticStyle:{"margin-top":"10px"}},[s("Panel",{attrs:{name:"1"}},[t._v("\n                        Health checks\n                        "),s("p",{attrs:{slot:"content"},slot:"content"},[s("pre",[t._v(t._s(t.upstream.healthchecks))])])])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h3",[t._v("Targets:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addTarget}},[t._v("Add Target")])],1)],1),s("TargetTable",{ref:"targetTable",staticStyle:{"margin-top":"10px"},attrs:{upstreamId:t.upstream.id}})],1):s("div",[t._v("Upstream `"+t._s(t.service.host)+"` is not existed,if it's not a external host,You must "),s("a",{on:{click:function(e){t.addUpstream(t.service.host)}}},[t._v("add a Upstream named `"+t._s(t.service.host)+"`")])])])],1)],1)},rt=[],it=s("44dd"),nt=s.n(it),ct=(s("3c1b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.routes},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1)])}),lt=[],ht={name:"RouteTable",props:["routes"],data:function(){return{columns:[{title:"id",key:"id"},{title:"name",key:"name",width:100},{title:"service",key:"service",width:160,render:function(t,e){return console.log("render"),t("router-link",{props:{to:"/services/"+e.row.service.id}},e.row.service.id)}},{title:"hosts",key:"hosts",width:160},{title:"paths",key:"paths",width:140},{title:"created_at",key:"createAtStr",width:100},{title:"protocols",key:"protocols",width:140},{title:"Action",slot:"action",width:150,align:"center"}]}},methods:{edit:function(t){this.$router.push("/routes/edit/"+t)},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Service",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/routes/"+t,function(){e.$Message.info("Route deleted!"),T.$emit("routeChange",{routeId:t})})},onCancel:function(){}})}}},ut=ht,mt=Object(i["a"])(ut,ct,lt,!1,null,"2054efb4",null);mt.options.__file="RouteTable.vue";var pt=mt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.targets},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1),s("Modal",{attrs:{title:"Add Target","class-name":"vertical-center-modal"},on:{"on-ok":function(e){t.addTarget(t.upstreamId)},"on-cancel":function(e){t.cancelAddModalDialog()}},model:{value:t.addTargetModal,callback:function(e){t.addTargetModal=e},expression:"addTargetModal"}},[s("Form",{attrs:{model:t.target,"label-width":120,rules:t.ruleAddTarget}},[s("FormItem",{attrs:{label:"Upstream Id:"}},[s("Input",{attrs:{value:t.upstreamId,disabled:""}})],1),s("FormItem",{attrs:{label:"target:",prop:"target"}},[s("Input",{attrs:{placeholder:"enter target,default port is 8000"},model:{value:t.target.target,callback:function(e){t.$set(t.target,"target",e)},expression:"target.target"}})],1),s("FormItem",{attrs:{label:"weight:"}},[s("InputNumber",{attrs:{min:1},model:{value:t.target.weight,callback:function(e){t.$set(t.target,"weight",e)},expression:"target.weight"}})],1)],1)],1)],1)},ft=[],vt={name:"RouteTable",props:["upstreamId"],data:function(){return{loading:!0,columns:[{title:"id",key:"id"},{title:"target",key:"target",width:100},{title:"weight",key:"weight",width:100},{title:"created_at",key:"createAtStr",width:100},{title:"health",key:"health",width:200,render:function(t,e){return console.log("render"),"HEALTHY"===e.row.health?t("div",[t("Icon",{props:{type:"ios-checkmark-circle",size:16,color:"green"}}),t("span",e.row.health)]):"HEALTHCHECKS_OFF"===e.row.health?t("div",[t("Icon",{props:{type:"ios-warning",size:16,color:"#db5f0c"}}),t("span",e.row.health)]):t("div",[t("Icon",{props:{type:"ios-bug",size:16,color:"red"}}),t("span",e.row.health)])}},{title:"Action",slot:"action",width:150,align:"center"}],targets:[],addTargetModal:!1,target:{target:"",weight:2},ruleAddTarget:{target:[{required:!0,message:"Please fill target",trigger:"blur"}],weight:[{required:!0,message:"Please fill weight",trigger:"blur"}]}}},methods:{loadTargets:function(){var t=this;this._get("/upstreams/"+this.upstreamId+"/health",function(e){t.targets=e.data.data,t.targets.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss")})})},showAddTargetModal:function(){this.addTargetModal=!0},addTarget:function(){var t=this;this._post("/upstreams/"+this.upstreamId+"/targets",this.target,function(){t.target.target="",t.target.weight=2,t.loadTargets()})},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Target",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/upstreams/"+e.upstreamId+"/targets/"+t,function(){s.$Message.info("Target deleted!"),s.loadTargets()})},onCancel:function(){}})},cancelAddModalDialog:function(){this.target.target="",this.target.weight=2}}},_t=vt,bt=(s("2d75"),Object(i["a"])(_t,dt,ft,!1,null,"5c7442cf",null));bt.options.__file="TargetTable.vue";var gt=bt.exports,It=s("d471"),kt=s.n(It),yt=(s("4896"),function(){var t=document.querySelectorAll("pre");t.forEach(function(t){kt.a.highlightBlock(t)})}),xt={name:"ServiceDetail",data:function(){return{service:{},routes:[],upstream:{},upstreamExisted:!0}},mounted:function(){var t=this;T.$emit("changePage",{activeName:"service-list",openNames:["service"]}),console.log(this.$route.params.id),T.$on("routeChange",function(e){var s=e.routeId;console.log("route change:"+s);var a=!0,o=!1,r=void 0;try{for(var i,n=nt()(t.routes);!(a=(i=n.next()).done);a=!0){var c=i.value;if(c.id===s){t.loadRoutes();break}}}catch(l){o=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}}),this.loadServiceDetail()},components:{RouteTable:pt,TargetTable:gt},methods:{loadServiceDetail:function(){var t=this;this._get("/services/"+this.$route.params.id,function(e){t.service=e.data;var s=Z.a.unix(t.service.created_at);t.service.createAtStr=s.format("YYYY-MM-DD HH:mm:ss");var a=Z.a.unix(t.service.updated_at);t.service.updatedAtStr=a.format("YYYY-MM-DD HH:mm:ss"),t.loadRoutes(),t.loadUpstream()})},loadRoutes:function(){var t=this;this.routes=[],this._get("/services/"+this.$route.params.id+"/routes",function(e){t.routes=e.data.data,t.routes.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var s=Z.a.unix(t.updated_at);t.updatedAtStr=s.format("YYYY-MM-DD HH:mm:ss")})})},loadUpstream:function(){var t=this;this._get("/upstreams/"+this.service.host,function(e){t.upstream=e.data,console.log(t.upstream);var s=Z.a.unix(t.upstream.created_at);t.upstream.createAtStr=s.format("YYYY-MM-DD HH:mm:ss");var a=Z.a.unix(t.upstream.updated_at);t.upstream.updatedAtStr=a.format("YYYY-MM-DD HH:mm:ss"),t.$nextTick(function(){t.$refs.targetTable.loadTargets(),yt()})},function(e){404===e.response.status&&(t.upstreamExisted=!1)})},editService:function(){this.$router.push({path:"/services/edit/".concat(this.service.id)})},addRoute:function(){this.$router.push({path:"/routes/add/".concat(this.service.id)})},addTarget:function(){this.$refs.targetTable.showAddTargetModal()},addUpstream:function(t){this.$router.push({path:"/upstreams/add/"+t})},editUpstream:function(){this.$router.push({path:"/upstreams/edit/".concat(this.upstream.id)})}},destroyed:function(){T.$off("routeChange")}},Ct=xt,wt=(s("811f"),Object(i["a"])(Ct,ot,rt,!1,null,"261075d6",null));wt.options.__file="ServiceDetail.vue";var jt=wt.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/services"}},[t._v("Service")]),t.edit?s("BreadcrumbItem",[t._v(t._s(t.serviceId))]):s("BreadcrumbItem",[t._v("Add Service")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter Service name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}}),s("span",{staticClass:"field_desc"},[t._v("The Service name.")])],1),s("FormItem",{attrs:{label:"retries:"}},[s("InputNumber",{attrs:{min:1},model:{value:t.formItem.retries,callback:function(e){t.$set(t.formItem,"retries",e)},expression:"formItem.retries"}}),s("span",{staticClass:"field_desc"},[t._v("The number of retries to execute upon failure to proxy. Defaults to 5.")])],1),s("FormItem",{attrs:{label:"protocol:"}},[s("RadioGroup",{model:{value:t.formItem.protocol,callback:function(e){t.$set(t.formItem,"protocol",e)},expression:"formItem.protocol"}},[s("Radio",{attrs:{label:"http"}},[t._v("http")]),s("Radio",{attrs:{label:"https"}},[t._v("https")])],1),s("span",{staticClass:"field_desc"},[t._v('The protocol used to communicate with the upstream. It can be one of http or https. Defaults to "http".')])],1),s("FormItem",{attrs:{label:"host:"}},[s("AutoComplete",{staticStyle:{width:"200px"},attrs:{data:t.upstreamNames,"filter-method":t.filterMethod,placeholder:"Enter host"},model:{value:t.formItem.host,callback:function(e){t.$set(t.formItem,"host",e)},expression:"formItem.host"}}),s("span",{staticClass:"field_desc"},[t._v("The host of the upstream server..")])],1),s("FormItem",{attrs:{label:"port:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter port"},model:{value:t.formItem.port,callback:function(e){t.$set(t.formItem,"port",e)},expression:"formItem.port"}}),s("span",{staticClass:"field_desc"},[t._v("The upstream server port. Defaults to 80.")])],1),s("FormItem",{attrs:{label:"path:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter path"},model:{value:t.formItem.path,callback:function(e){t.$set(t.formItem,"path",e)},expression:"formItem.path"}}),s("span",{staticClass:"field_desc"},[t._v("The path to be used in requests to the upstream server.")])],1),s("FormItem",{attrs:{label:"connect_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.connect_timeout,callback:function(e){t.$set(t.formItem,"connect_timeout",e)},expression:"formItem.connect_timeout"}}),s("span",{staticClass:"field_desc"},[t._v("The timeout in milliseconds for establishing a connection to the upstream server. Defaults to 60000.")])],1),s("FormItem",{attrs:{label:"write_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.write_timeout,callback:function(e){t.$set(t.formItem,"write_timeout",e)},expression:"formItem.write_timeout"}}),s("span",{staticClass:"field_desc"},[t._v("The timeout in milliseconds between two successive write operations for transmitting a request to the upstream server. Defaults to 60000.")])],1),s("FormItem",{attrs:{label:"read_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.read_timeout,callback:function(e){t.$set(t.formItem,"read_timeout",e)},expression:"formItem.read_timeout"}}),s("span",{staticClass:"field_desc"},[t._v("The timeout in milliseconds between two successive read operations for transmitting a request to the upstream server. Defaults to 60000")])],1),t.edit?t._e():s("FormItem",{attrs:{label:"url:"}},[s("Input",{staticStyle:{"max-width":"400px"},attrs:{placeholder:"Enter url"},model:{value:t.formItem.url,callback:function(e){t.$set(t.formItem,"url",e)},expression:"formItem.url"}}),s("span",{staticClass:"field_desc"},[t._v("Shorthand attribute to set protocol, host, port and path at once. This attribute is write-only (the Admin API never “returns” the url).")])],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveService}},[t._v("Save")])],1)],1)],1)},$t=[],Tt={name:"AddService",data:function(){return{formItem:{name:"",retries:5,protocol:"http",host:"",port:80,path:"",connect_timeout:6e3,write_timeout:6e3,read_timeout:6e3,url:""},upstreamNames:[],serviceId:"",edit:!1}},mounted:function(){this.serviceId=this.$route.params.id,this.edit=null!=this.serviceId,this.loadUpstreams(),this.edit&&this.loadService()},methods:{loadUpstreams:function(){this.upstreamNames=[];var t=this;this._get("/upstreams/",function(e){var s=e.data.data;s.map(function(e){t.upstreamNames.push(e.name)})})},filterMethod:function(t,e){return!t||-1!==e.toUpperCase().indexOf(t.toUpperCase())},saveService:function(){console.log("save");var t=this;""===this.formItem.name&&(this.formItem.name=null),""===this.formItem.host&&(this.formItem.host=null),""===this.formItem.path&&(this.formItem.path=null),""===this.formItem.url&&(this.formItem.url=null),this.edit?this._patch("/services/"+this.serviceId,this.formItem,function(e){console.log(e.data),t.$router.go(-1)}):this._post("/services/",this.formItem,function(e){console.log(e.data),t.$router.push("/services")})},loadService:function(){var t=this;this._get("/services/"+this.serviceId,function(e){t.formItem=e.data})}}},At=Tt,Rt=(s("1b13"),Object(i["a"])(At,St,$t,!1,null,"be235b04",null));Rt.options.__file="AddService.vue";var Ht=Rt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticStyle:{"margin-top":"100px"}},[t._v("Kong Admin UI")]),s("Row",{attrs:{id:"config"}},[s("Col",{attrs:{span:"6"}},[t._v(" ")]),s("Col",{attrs:{span:"12"}},[s("Form",{ref:"form",attrs:{model:t.formItem,"label-width":280,rules:t.ruleCustom}},[s("FormItem",{attrs:{label:"Kong Admin Api url:",prop:"address"}},[s("Input",{attrs:{placeholder:"http://192.168.0.200:8001"},model:{value:t.formItem.address,callback:function(e){t.$set(t.formItem,"address",e)},expression:"formItem.address"}})],1)],1),s("Button",{attrs:{type:"primary"},on:{click:t.test}},[t._v("Enter")]),t._v(" \n            "),s("Button",{attrs:{type:"success"},on:{click:t.clear}},[t._v("Clear address")])],1),s("Col",{attrs:{span:"6"}},[t._v(" ")])],1),t._m(0),t._m(1)],1)},Mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notice"},[s("p",[t._v("This app will not connect other servers except your kong admin api.Your kong admin api address is save in\n            browser's localstorage, so it's safety to manage your kong.")]),s("p",[t._v("All requests to Kong admin api is send by your browser,so make sure your device can access Kong admin api\n            without any security auth.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"https://github.com/pocketdigi/kong-admin-ui"}},[s("img",{staticStyle:{position:"absolute",top:"0",left:"0",border:"0"},attrs:{src:"http://kong-admin.pocketdigi.com/img/forkme_left_green_007200.png",alt:"Fork me on GitHub"}})])}],Nt=(s("af3c"),s("56f4"),s("3573"),s("7f43")),Bt=s.n(Nt),Dt={data:function(){var t=this,e=function(e,s,a){if(""===s)a(new Error("Please enter your Kong admin api url"));else{if(!s.startsWith("http://")&&!s.startsWith("https://"))return void a(new Error("url error,must start with http:// or https://"));if(s.endsWith("/"))return a(new Error("url error,cant't end with /")),void(t.formItem.address=t.formItem.address.substr(0,t.formItem.address.length-1));a()}};return{formItem:{address:""},ruleCustom:{address:[{validator:e,trigger:"blur"}]}}},mounted:function(){this.formItem.address=localStorage.address},methods:{saveConfig:function(){localStorage.address=this.formItem.address,this.$router.push("/")},test:function(){var t=this,e=this;this.$refs.form.validate(function(s){s?Bt.a.get(t.formItem.address).then(function(e){var s=e.data,a=s.version;null==a&&t.$Message.error({content:"Can't get your Kong's version,please check the address you input",duration:10});var o=a.split(".");3!==o.length&&t.versionNotSupport(a),o[0]>0?t.saveConfig():o[1]>=14?t.saveConfig():t.versionNotSupport(a)}).catch(function(){e.$Message.error({content:"Failed to connect with your kong admin api,please check the address you input,or your computer has no permission to visit the admin api",duration:10})}):t.$Message.error("Kong admin api url error")})},versionNotSupport:function(t){this.$Message.error({content:"Version "+t+" is not support,We only support 0.14.0 and higher",duration:10})},clear:function(){localStorage.removeItem("address"),this.formItem.address=""}}},Et=Dt,Ut=(s("b676"),Object(i["a"])(Et,Ft,Mt,!1,null,"43d2c5ea",null));Ut.options.__file="Config.vue";var Pt=Ut.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")])],1),s("h1",[t._v("Kong Info")]),s("Row",[s("Col",{attrs:{span:"6"}},[t._v("hostname: "+t._s(t.basicInfo.hostname))]),s("Col",{attrs:{span:"6"}},[t._v("version: "+t._s(t.basicInfo.version))]),s("Col",{attrs:{span:"6"}},[t._v("node_id: "+t._s(t.basicInfo.node_id))]),s("Col",{attrs:{span:"6"}},[t._v("tagline: "+t._s(t.basicInfo.tagline))])],1),s("h3",[t._v("Configuration:")]),s("Row",[s("Col",{attrs:{span:"8"}},[t._v("prefix: "+t._s(t.basicInfo.configuration.prefix))]),s("Col",{attrs:{span:"8"}},[t._v("proxy_listen: "+t._s(t.basicInfo.configuration.proxy_listen))]),s("Col",{attrs:{span:"8"}},[t._v("db_update_frequency: "+t._s(t.basicInfo.configuration.db_update_frequency))])],1),s("Row",[s("Col",{attrs:{span:"8"}},[t._v("admin_listen: "+t._s(t.basicInfo.configuration.admin_listen))]),s("Col",{attrs:{span:"8"}},[t._v("nginx_conf: "+t._s(t.basicInfo.configuration.nginx_conf))]),s("Col",{attrs:{span:"8"}},[t._v("nginx_pid: "+t._s(t.basicInfo.configuration.nginx_pid))])],1)],1)},Ot=[],Yt={data:function(){return{basicInfo:{configuration:{}}}},mounted:function(){T.$emit("changePage",{activeName:"index",openNames:[]}),this.loadBasicInfo()},methods:{loadBasicInfo:function(){var t=this;this._get("/",function(e){t.basicInfo=e.data})}}},qt=Yt,Lt=(s("d981"),Object(i["a"])(qt,zt,Ot,!1,null,"cefaf95e",null));Lt.options.__file="BasicInfo.vue";var Wt=Lt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/routes"}},[t._v("Routes")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Route List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addRoute}},[t._v("Add Route")])],1)],1),s("RouteTable",{attrs:{routes:t.routes}}),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)},Gt=[],Vt={name:"RouterList",data:function(){return{routes:[],offset:"",offsetStack:[]}},components:{RouteTable:pt},mounted:function(){var t=this;T.$emit("changePage",{activeName:"route-list",openNames:["route"]}),this.loadRoutes(),T.$on("routeChange",function(e){var s=e.routeId;console.log("route change:"+s);var a=!0,o=!1,r=void 0;try{for(var i,n=nt()(t.routes);!(a=(i=n.next()).done);a=!0){var c=i.value;if(c.id===s){t.loadRoutes();break}}}catch(l){o=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}})},methods:{addRoute:function(){this.$router.push({path:"/routes/add"})},loadRoutes:function(t){var e,s=this;e=t?"/routes?offset="+t+"&size=10":"/routes?size=10",this._get(e,function(t){s.routes=t.data.data,s.offset=t.data.offset})},next:function(){var t=this.offset;this.loadRoutes(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadRoutes(t)}},destroyed:function(){T.$off("routeChange")}},Jt=Vt,Qt=(s("5bb6"),Object(i["a"])(Jt,Kt,Gt,!1,null,"404f3578",null));Qt.options.__file="RouteList.vue";var Xt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/route"}},[t._v("Route")]),t.edit?s("BreadcrumbItem",[t._v(t._s(t.routeId))]):s("BreadcrumbItem",[t._v("Add Route")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter Route name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}}),s("span",{staticClass:"field_desc"},[t._v("The name of the Route.")])],1),s("FormItem",{attrs:{label:"protocols:"}},[s("CheckboxGroup",{model:{value:t.formItem.protocols,callback:function(e){t.$set(t.formItem,"protocols",e)},expression:"formItem.protocols"}},[s("Checkbox",{attrs:{label:"http"}}),s("Checkbox",{attrs:{label:"https"}}),s("Checkbox",{attrs:{label:"tcp"}}),s("Checkbox",{attrs:{label:"tls"}})],1),s("span",{staticClass:"field_desc"},[t._v('A list of the protocols this Route should allow. When set to ["https"], HTTP requests are answered with a request to upgrade to HTTPS. Defaults to ["http", "https"].')])],1),s("FormItem",{attrs:{label:"methods:"}},[s("CheckboxGroup",{model:{value:t.formItem.methods,callback:function(e){t.$set(t.formItem,"methods",e)},expression:"formItem.methods"}},[s("Checkbox",{attrs:{label:"GET"}}),s("Checkbox",{attrs:{label:"POST"}}),s("Checkbox",{attrs:{label:"DELETE"}}),s("Checkbox",{attrs:{label:"PATCH"}}),s("Checkbox",{attrs:{label:"PUT"}}),s("Checkbox",{attrs:{label:"HEAD"}}),s("Checkbox",{attrs:{label:"OPTIONS"}})],1),s("span",{staticClass:"field_desc"},[t._v("A list of HTTP methods that match this Route. When using http or https protocols, at least one of hosts, paths, or methods must be set.")])],1),s("FormItem",{attrs:{label:"hosts:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple hosts"},model:{value:t.hosts,callback:function(e){t.hosts=e},expression:"hosts"}}),s("span",{staticClass:"field_desc"},[t._v("A list of domain names that match this Route. When using http or https protocols, at least one of hosts, paths, or methods must be set. ")])],1),s("FormItem",{attrs:{label:"paths:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple paths"},model:{value:t.paths,callback:function(e){t.paths=e},expression:"paths"}}),s("span",{staticClass:"field_desc"},[t._v("A list of paths that match this Route. When using http or https protocols, at least one of hosts, paths, or methods must be set. ")])],1),s("FormItem",{attrs:{label:"regex_priority:"}},[s("InputNumber",{model:{value:t.formItem.regex_priority,callback:function(e){t.$set(t.formItem,"regex_priority",e)},expression:"formItem.regex_priority"}}),s("div",{staticClass:"field_desc"},[t._v("A number used to choose which route resolves a given request when several routes\n                match it using regexes simultaneously. When two routes match the path and have the same\n                regex_priority, the older one (lowest created_at) is used. Note that the priority for non-regex\n                routes is different (longer non-regex routes are matched before shorter ones). Defaults to 0.\n            ")])],1),s("FormItem",{attrs:{label:"strip_path:"}},[s("i-switch",{attrs:{size:"large"},model:{value:t.formItem.strip_path,callback:function(e){t.$set(t.formItem,"strip_path",e)},expression:"formItem.strip_path"}},[s("span",{attrs:{slot:"true"},slot:"true"},[t._v("true")]),s("span",{attrs:{slot:"false"},slot:"false"},[t._v("false")])]),s("span",{staticClass:"field_desc"},[t._v("When matching a Route via one of the paths, strip the matching prefix from the upstream request URL.")])],1),s("FormItem",{attrs:{label:"preserve_host:"}},[s("i-switch",{attrs:{size:"large"},model:{value:t.formItem.preserve_host,callback:function(e){t.$set(t.formItem,"preserve_host",e)},expression:"formItem.preserve_host"}},[s("span",{attrs:{slot:"true"},slot:"true"},[t._v("true")]),s("span",{attrs:{slot:"false"},slot:"false"},[t._v("false")])]),s("span",{staticClass:"field_desc"},[t._v("When matching a Route via one of the hosts domain names, use the request Host header in the upstream request headers. If set to false, the upstream Host header will be that of the Service’s host.")])],1),s("FormItem",{attrs:{label:"snis:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple snis"},model:{value:t.snis,callback:function(e){t.snis=e},expression:"snis"}}),s("span",{staticClass:"field_desc"},[t._v("A list of SNIs that match this Route when using stream routing. When using tcp or tls protocols, at least one of snis, sources, or destinations must be set. ")])],1),s("FormItem",{attrs:{label:"sources:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple sources"},model:{value:t.sources,callback:function(e){t.sources=e},expression:"sources"}}),s("span",{staticClass:"field_desc"},[t._v("A list of IP sources of incoming connections that match this Route when using stream routing. Each entry is an object with fields “ip” (optionally in CIDR range notation) and/or “port”. When using tcp or tls protocols, at least one of snis, sources, or destinations must be set. ")])],1),s("FormItem",{attrs:{label:"destinations:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"Use commas to separate multiple sources"},model:{value:t.destinations,callback:function(e){t.destinations=e},expression:"destinations"}}),s("span",{staticClass:"field_desc"},[t._v("A list of IP destinations of incoming connections that match this Route when using stream routing. Each entry is an object with fields “ip” (optionally in CIDR range notation) and/or “port”. When using tcp or tls protocols, at least one of snis, sources, or destinations must be set. ")])],1),s("FormItem",{attrs:{label:"service:"}},[s("Select",{staticStyle:{width:"400px"},attrs:{disabled:!t.serviceIdCanChanged},model:{value:t.formItem.service.id,callback:function(e){t.$set(t.formItem.service,"id",e)},expression:"formItem.service.id"}},t._l(t.services,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.id)+"    "+t._s(e.name))])}),1)],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveRoute}},[t._v("Save")])],1)],1)],1)},te=[],ee={name:"AddRoute",data:function(){return{formItem:{name:"",protocols:["http","https"],methods:[],hosts:[],paths:[],regex_priority:0,strip_path:!0,preserve_host:!1,snis:[],sources:[],destinations:[],service:{id:""}},serviceId:"",routeId:"",edit:!1,serviceIdCanChanged:!0,services:[]}},mounted:function(){this.routeId=this.$route.params.id,this.serviceId=this.$route.params.serviceId,this.edit=null!=this.routeId,console.log("mounted"),null!=this.serviceId&&(this.formItem.service.id=this.serviceId,this.serviceIdCanChanged=!1),this.edit&&this.loadRoute(),this.loadServices()},methods:{saveRoute:function(){var t=this;""===this.formItem.id&&(this.formItem.id=null),""===this.formItem.name&&(this.formItem.name=null),""===this.formItem.url&&(this.formItem.url=null),this.edit?this._patch("/routes/"+this.routeId,this.formItem,function(e){console.log(e.data),t.$router.go(-1)}):this._post("/routes/",this.formItem,function(e){console.log(e.data),t.$router.go(-1)})},loadRoute:function(){var t=this,e=this;this._get("/routes/"+this.routeId,function(s){e.formItem=s.data,t.hosts=t.formItem.hosts.join(","),t.paths=t.formItem.paths.join(",")})},loadServices:function(){var t=this;this._get("/services",function(e){t.services=[],Array.prototype.push.apply(t.services,e.data.data)})}},computed:{hosts:{set:function(t){this.formItem.hosts=t?t.split(","):[]},get:function(){return this.formItem.hosts.join(",")}},paths:{set:function(t){this.formItem.paths=t?t.split(","):[]},get:function(){return this.formItem.paths.join(",")}},snis:{set:function(t){this.formItem.snis=t?t.split(","):[]},get:function(){return this.formItem.snis?this.formItem.snis.join(","):""}},sources:{set:function(t){this.formItem.sources=t?t.split(","):[]},get:function(){return this.formItem.sources?this.formItem.sources.join(","):""}},destinations:{set:function(t){this.formItem.destinations=t?t.split(","):[]},get:function(){return this.formItem.destinations?this.formItem.destinations.join(","):""}}}},se=ee,ae=(s("76a2"),Object(i["a"])(se,Zt,te,!1,null,"86139258",null));ae.options.__file="AddRoute.vue";var oe=ae.exports,re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"content"}},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/upstream"}},[t._v("Upstream")])],1),s("Row",[s("Col",{attrs:{span:"12"}},[s("h1",[t._v("Upstream List:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addUpstream}},[t._v("Add Upstream")])],1)],1),s("div",{attrs:{id:"table"}},[s("Table",{attrs:{border:"",columns:t.columns,data:t.upstreams,loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[s("strong",[t._v(t._s(a.name))])]}},{key:"action",fn:function(e){var a=e.row;return[s("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(a.id)}}},[t._v("View")]),s("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.deleteDialog(a.id)}}},[t._v("Delete")])]}}])})],1),s("div",{staticClass:"page"},[s("ButtonGroup",[s("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),s("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)},ie=[],ne={name:"UpstreamList",data:function(){return{upstreams:[],loading:!0,columns:[{title:"id",key:"id"},{title:"name",key:"name",width:100},{title:"created_at",key:"createAtStr",width:160},{title:"hash_on",key:"hash_on",width:140},{title:"hash_on_cookie_path",key:"hash_on_cookie_path",width:140},{title:"Action",slot:"action",width:150,align:"center"}],offset:"",offsetStack:[]}},mounted:function(){T.$emit("changePage",{activeName:"upstream-list",openNames:["upstream"]}),this.loadUpstreams()},methods:{addUpstream:function(){this.$router.push({path:"/upstreams/add"})},loadUpstreams:function(t){var e,s=this;t?e="/upstreams?offset="+t+"&size=10":(e="/upstreams?size=10",this.offsetStack=[],this.offset=""),this.loading=!0,this._get(e,function(t){s.upstreams=t.data.data,s.upstreams.map(function(t){var e=Z.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var s=Z.a.unix(t.updated_at);t.updatedAtStr=s.format("YYYY-MM-DD HH:mm:ss")}),s.offset=t.data.offset,s.loading=!1}),this.loading=!1},edit:function(t){this.$router.push("/upstreams/edit/"+t)},deleteDialog:function(t){var e=this,s=this;this.$Modal.confirm({title:"Delete Upstream",content:'<p>Are you sure you would like to delete</p><p style="font-weight: bold">'+t+"</p>",onOk:function(){s._delete("/upstreams/"+t,function(){e.$Message.info("Upstream deleted!"),e.loadUpstreams()})},onCancel:function(){}})},next:function(){console.log("next");var t=this.offset;this.loadUpstreams(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadUpstreams(t)}}},ce=ne,le=(s("b51f"),Object(i["a"])(ce,re,ie,!1,null,"6512c56b",null));le.options.__file="UpstreamList.vue";var he=le.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),s("BreadcrumbItem",{attrs:{to:"/upstreams"}},[t._v("Upstream")]),t.edit?s("BreadcrumbItem",[t._v(t._s(t.upstreamId))]):s("BreadcrumbItem",[t._v("Add Upstream")])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":300}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter upstream name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}}),s("span",{staticClass:"field_desc"},[t._v("This is a hostname, which must be equal to the host of a Service.")])],1),s("FormItem",{attrs:{label:"hash_on:"}},[s("RadioGroup",{model:{value:t.formItem.hash_on,callback:function(e){t.$set(t.formItem,"hash_on",e)},expression:"formItem.hash_on"}},[s("Radio",{attrs:{label:"none"}},[t._v("none")]),s("Radio",{attrs:{label:"consumer"}},[t._v("consumer")]),s("Radio",{attrs:{label:"ip"}},[t._v("ip")]),s("Radio",{attrs:{label:"header"}},[t._v("header")]),s("Radio",{attrs:{label:"cookie"}},[t._v("cookie")])],1),s("span",{staticClass:"field_desc"},[t._v("What to use as hashing input: none (resulting in a weighted-round-robin scheme with no hashing), consumer, ip, header, or cookie")])],1),s("FormItem",{attrs:{label:"hash_fallback:"}},[s("RadioGroup",{model:{value:t.formItem.hash_fallback,callback:function(e){t.$set(t.formItem,"hash_fallback",e)},expression:"formItem.hash_fallback"}},[s("Radio",{attrs:{label:"none"}},[t._v("none")]),s("Radio",{attrs:{label:"consumer"}},[t._v("consumer")]),s("Radio",{attrs:{label:"ip"}},[t._v("ip")]),s("Radio",{attrs:{label:"header"}},[t._v("header")]),s("Radio",{attrs:{label:"cookie"}},[t._v("cookie")])],1),s("span",{staticClass:"field_desc"},[t._v("What to use as hashing input if the primary hash_on does not return a hash (eg. header is missing, or no consumer identified). One of: none, consumer, ip, header, or cookie. Not available if hash_on is set to cookie. ")])],1),"header"===t.formItem.hash_on?s("FormItem",{attrs:{label:"hash_on_header:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_on_header"},model:{value:t.formItem.hash_on_header,callback:function(e){t.$set(t.formItem,"hash_on_header",e)},expression:"formItem.hash_on_header"}}),s("span",{staticClass:"field_desc"},[t._v("The header name to take the value from as hash input. Only required when hash_on is set to header.")])],1):t._e(),"header"===t.formItem.hash_fallback?s("FormItem",{attrs:{label:"hash_fallback_header:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_fallback_header"},model:{value:t.formItem.hash_fallback_header,callback:function(e){t.$set(t.formItem,"hash_fallback_header",e)},expression:"formItem.hash_fallback_header"}}),s("span",{staticClass:"field_desc"},[t._v("The header name to take the value from as hash input. Only required when hash_fallback is set to header.")])],1):t._e(),"cookie"===t.formItem.hash_on||"cookie"===t.formItem.hash_fallback?s("FormItem",{attrs:{label:"hash_on_cookie:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_on_cookie"},model:{value:t.formItem.hash_on_cookie,callback:function(e){t.$set(t.formItem,"hash_on_cookie",e)},expression:"formItem.hash_on_cookie"}}),s("span",{staticClass:"field_desc"},[t._v("The cookie name to take the value from as hash input. Only required when hash_on or hash_fallback is set to cookie. If the specified cookie is not in the request, Kong will generate a value and set the cookie in the response.")])],1):t._e(),"cookie"===t.formItem.hash_on||"cookie"===t.formItem.hash_fallback?s("FormItem",{attrs:{label:"hash_on_cookie_path:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"hash_on_cookie"},model:{value:t.formItem.hash_on_cookie_path,callback:function(e){t.$set(t.formItem,"hash_on_cookie_path",e)},expression:"formItem.hash_on_cookie_path"}}),s("span",{staticClass:"field_desc"},[t._v("The cookie path to set in the response headers. Only required when hash_on or hash_fallback is set to cookie.")])],1):t._e(),s("FormItem",{attrs:{label:"slots:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.slots,callback:function(e){t.$set(t.formItem,"slots",e)},expression:"formItem.slots"}}),s("span",{staticClass:"field_desc"},[t._v("The number of slots in the loadbalancer algorithm (10-65536). ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.https_verify_certificate:"}},[s("i-switch",{attrs:{size:"large"},model:{value:t.formItem.healthchecks.active.https_verify_certificate,callback:function(e){t.$set(t.formItem.healthchecks.active,"https_verify_certificate",e)},expression:"formItem.healthchecks.active.https_verify_certificate"}},[s("span",{attrs:{slot:"true"},slot:"true"},[t._v("true")]),s("span",{attrs:{slot:"false"},slot:"false"},[t._v("false")])]),s("span",{staticClass:"field_desc"},[t._v("Whether to check the validity of the SSL certificate of the remote host when performing active health checks using HTTPS. ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.http_statuses:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"http status"},model:{value:t.healthchecksActiveUnhealthyHttpStatuses,callback:function(e){t.healthchecksActiveUnhealthyHttpStatuses=e},expression:"healthchecksActiveUnhealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses to consider a failure, indicating unhealthiness, when returned by a probe in active health checks.  ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.tcp_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.tcp_failures,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"tcp_failures",e)},expression:"formItem.healthchecks.active.unhealthy.tcp_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of TCP failures in active probes to consider a target unhealthy ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.timeouts:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.timeouts,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"timeouts",e)},expression:"formItem.healthchecks.active.unhealthy.timeouts"}}),s("span",{staticClass:"field_desc"},[t._v("Number of timeouts in active probes to consider a target unhealthy")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.http_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.http_failures,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"http_failures",e)},expression:"formItem.healthchecks.active.unhealthy.http_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of HTTP failures in active probes (as defined by healthchecks.active.unhealthy.http_statuses) to consider a target unhealthy.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.unhealthy.interval:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.unhealthy.interval,callback:function(e){t.$set(t.formItem.healthchecks.active.unhealthy,"interval",e)},expression:"formItem.healthchecks.active.unhealthy.interval"}}),s("span",{staticClass:"field_desc"},[t._v("Interval between active health checks for unhealthy targets (in seconds). A value of zero indicates that active probes for unhealthy targets should not be performed.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.http_path:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"http_path"},model:{value:t.formItem.healthchecks.active.http_path,callback:function(e){t.$set(t.formItem.healthchecks.active,"http_path",e)},expression:"formItem.healthchecks.active.http_path"}}),s("span",{staticClass:"field_desc"},[t._v("Path to use in GET HTTP request to run as a probe on active health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.timeout:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.timeout,callback:function(e){t.$set(t.formItem.healthchecks.active,"timeout",e)},expression:"formItem.healthchecks.active.timeout"}}),s("span",{staticClass:"field_desc"},[t._v("Socket timeout for active health checks (in seconds).")])],1),s("FormItem",{attrs:{label:"healthchecks.active.healthy.http_statuses:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"http status"},model:{value:t.healthchecksActiveHealthyHttpStatuses,callback:function(e){t.healthchecksActiveHealthyHttpStatuses=e},expression:"healthchecksActiveHealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses to consider a success, indicating healthiness, when returned by a probe in active health checks. ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.healthy.interval:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.healthy.interval,callback:function(e){t.$set(t.formItem.healthchecks.active.healthy,"interval",e)},expression:"formItem.healthchecks.active.healthy.interval"}}),s("span",{staticClass:"field_desc"},[t._v("Interval between active health checks for unhealthy targets (in seconds). A value of zero indicates that active probes for unhealthy targets should not be performed.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.healthy.successes:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.healthy.successes,callback:function(e){t.$set(t.formItem.healthchecks.active.healthy,"successes",e)},expression:"formItem.healthchecks.active.healthy.successes"}}),s("span",{staticClass:"field_desc"},[t._v("Number of successes in active probes (as defined by healthchecks.active.healthy.http_statuses) to consider a target healthy.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.https_sni:"}},[s("Input",{staticClass:"text_input",model:{value:t.formItem.healthchecks.active.https_sni,callback:function(e){t.$set(t.formItem.healthchecks.active,"https_sni",e)},expression:"formItem.healthchecks.active.https_sni"}}),s("span",{staticClass:"field_desc"},[t._v("The hostname to use as an SNI (Server Name Identification) when performing active health checks using HTTPS. This is particularly useful when Targets are configured using IPs, so that the target host’s certificate can be verified with the proper SNI.")])],1),s("FormItem",{attrs:{label:"healthchecks.active.concurrency:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.active.concurrency,callback:function(e){t.$set(t.formItem.healthchecks.active,"concurrency",e)},expression:"formItem.healthchecks.active.concurrency"}}),s("span",{staticClass:"field_desc"},[t._v("Number of targets to check concurrently in active health checks. ")])],1),s("FormItem",{attrs:{label:"healthchecks.active.type:"}},[s("RadioGroup",{model:{value:t.formItem.healthchecks.active.type,callback:function(e){t.$set(t.formItem.healthchecks.active,"type",e)},expression:"formItem.healthchecks.active.type"}},[s("Radio",{attrs:{label:"tcp"}},[t._v("tcp")]),s("Radio",{attrs:{label:"http"}},[t._v("http")]),s("Radio",{attrs:{label:"https"}},[t._v("https")])],1),s("span",{staticClass:"field_desc"},[t._v("Whether to perform active health checks using HTTP or HTTPS, or just attempt a TCP connection. ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.http_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.unhealthy.http_failures,callback:function(e){t.$set(t.formItem.healthchecks.passive.unhealthy,"http_failures",e)},expression:"formItem.healthchecks.passive.unhealthy.http_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of HTTP failures in proxied traffic (as defined by healthchecks.passive.unhealthy.http_statuses) to consider a target unhealthy, as observed by passive health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.http_statuses:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"http status"},model:{value:t.healthchecksActiveHealthyHttpStatuses,callback:function(e){t.healthchecksActiveHealthyHttpStatuses=e},expression:"healthchecksActiveHealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses which represent unhealthiness when produced by proxied traffic, as observed by passive health checks.  ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.tcp_failures:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.unhealthy.tcp_failures,callback:function(e){t.$set(t.formItem.healthchecks.passive.unhealthy,"tcp_failures",e)},expression:"formItem.healthchecks.passive.unhealthy.tcp_failures"}}),s("span",{staticClass:"field_desc"},[t._v("Number of TCP failures in proxied traffic to consider a target unhealthy, as observed by passive health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.unhealthy.timeouts:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.unhealthy.timeouts,callback:function(e){t.$set(t.formItem.healthchecks.passive.unhealthy,"timeouts",e)},expression:"formItem.healthchecks.passive.unhealthy.timeouts"}}),s("span",{staticClass:"field_desc"},[t._v("Number of timeouts in proxied traffic to consider a target unhealthy, as observed by passive health checks.")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.type:"}},[s("RadioGroup",{model:{value:t.formItem.healthchecks.passive.type,callback:function(e){t.$set(t.formItem.healthchecks.passive,"type",e)},expression:"formItem.healthchecks.passive.type"}},[s("Radio",{attrs:{label:"tcp"}},[t._v("tcp")]),s("Radio",{attrs:{label:"http"}},[t._v("http")]),s("Radio",{attrs:{label:"https"}},[t._v("https")])],1),s("span",{staticClass:"field_desc"},[t._v("Whether to perform passive health checks interpreting HTTP/HTTPS statuses, or just check for TCP connection success. Possible values are tcp, http or https (in passive checks, http and https options are equivalent.). ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.healthy.successes:"}},[s("InputNumber",{staticClass:"text_input",attrs:{min:0},model:{value:t.formItem.healthchecks.passive.healthy.successes,callback:function(e){t.$set(t.formItem.healthchecks.passive.healthy,"successes",e)},expression:"formItem.healthchecks.passive.healthy.successes"}}),s("span",{staticClass:"field_desc"},[t._v("Number of successes in proxied traffic (as defined by healthchecks.passive.healthy.http_statuses) to consider a target healthy, as observed by passive health checks. ")])],1),s("FormItem",{attrs:{label:"healthchecks.passive.healthy.http_statuses:"}},[s("Input",{staticClass:"text_input_multiple",attrs:{placeholder:"http status"},model:{value:t.healthchecksPassiveHealthyHttpStatuses,callback:function(e){t.healthchecksPassiveHealthyHttpStatuses=e},expression:"healthchecksPassiveHealthyHttpStatuses"}}),s("span",{staticClass:"field_desc"},[t._v("An array of HTTP statuses which represent healthiness when produced by proxied traffic, as observed by passive health checks. ")])],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveService}},[t._v("Save")])],1)],1),t.upstreamId?s("div",[s("Row",[s("Col",{attrs:{span:"12"}},[s("h3",[t._v("Targets:")])]),s("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addTarget}},[t._v("Add Target")])],1)],1),s("TargetTable",{ref:"targetTable",staticStyle:{"margin-top":"10px"},attrs:{upstreamId:t.upstreamId}})],1):t._e()],1)},me=[],pe={name:"AddUpstream",data:function(){return{formItem:{name:"",hash_on:"none",hash_fallback:"none",hash_on_header:"",hash_fallback_header:"",hash_on_cookie:"",hash_on_cookie_path:"/",slots:1e4,healthchecks:{active:{https_verify_certificate:!0,unhealthy:{http_statuses:[429,404,500,501,502,503,504,505],tcp_failures:0,timeouts:0,http_failures:0,interval:0},http_path:"/",timeout:1,healthy:{http_statuses:[200,302],interval:0,successes:0},https_sni:"",concurrency:10,type:"http"},passive:{unhealthy:{http_failures:0,http_statuses:[429,500,503],tcp_failures:0,timeouts:0},type:"http",healthy:{successes:0,http_statuses:[200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308]}}}},upstreamNames:[],serviceId:"",edit:!1,upstreamId:""}},computed:{healthchecksActiveUnhealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.active.unhealthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.active.unhealthy.http_statuses=t?t.split(","):[]}},healthchecksActiveHealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.active.healthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.active.healthy.http_statuses=t?t.split(","):[]}},healthchecksPassiveUnHealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.passive.unhealthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.passive.unhealthy.http_statuses=t?t.split(","):[]}},healthchecksPassiveHealthyHttpStatuses:{get:function(){return this.formItem.healthchecks.passive.healthy.http_statuses.join(",")},set:function(t){this.formItem.healthchecks.passive.healthy.http_statuses=t?t.split(","):[]}}},mounted:function(){this.upstreamId=this.$route.params.id,console.log("addUpstream:"+this.upstreamId),this.formItem.name=this.$route.params.name,this.edit=null!=this.upstreamId,this.edit&&this.loadUpstream()},methods:{filterMethod:function(t,e){return-1!==e.toUpperCase().indexOf(t.toUpperCase())},saveService:function(){var t=this;""===this.formItem.name&&(this.formItem.name=null),""===this.formItem.hash_on_header&&(this.formItem.hash_on_header=null),""===this.formItem.hash_fallback_header&&(this.formItem.hash_fallback_header=null),""===this.formItem.hash_on_cookie&&(this.formItem.hash_on_cookie=null),""===this.formItem.healthchecks.active.https_sni&&(this.formItem.healthchecks.active.https_sni=null),this.edit?this._patch("/upstreams/"+this.upstreamId,this.formItem,function(e){console.log(e.data),t.$router.go(-1)}):this._post("/upstreams/",this.formItem,function(e){console.log(e.data),t.$router.go(-1)})},loadUpstream:function(){var t=this;this._get("/upstreams/"+this.upstreamId,function(e){t.formItem=e.data,t.$refs.targetTable.loadTargets()})},addTarget:function(){this.$refs.targetTable.showAddTargetModal()}},components:{TargetTable:gt}},de=pe,fe=(s("355c"),Object(i["a"])(de,ue,me,!1,null,"e82f9c14",null));fe.options.__file="AddUpstream.vue";var ve=fe.exports;a["default"].use(m["a"]);var _e=new m["a"]({routes:[{path:"/login",name:"login",component:b},{path:"/hello",name:"hello",component:C},{path:"/config",name:"config",component:Pt},{path:"/",component:V,children:[{path:"services",component:at},{path:"services/add",component:Ht},{path:"services/edit/:id",component:Ht},{path:"services/:id",component:jt},{path:"routes",component:Xt},{path:"routes/add",component:oe},{path:"routes/edit/:id",component:oe},{path:"routes/add/:serviceId",component:oe},{path:"upstreams",component:he},{path:"upstreams/add",component:ve},{path:"upstreams/edit/:id",component:ve},{path:"upstreams/add/:name",component:ve},{path:"",component:Wt}]}]}),be={install:function(t){function e(t){var e=localStorage.address;return null!=e||(t.$router.push("/config"),!1)}function s(t,e){t.response&&404!==t.response.status?e.$Message.error({content:t.response.data.message,duration:5}):(console.log("error"),e.$Message.error({content:"Failed to connect with your kong admin api,please check the address you input,or your computer has no permission to visit the admin api",duration:10}),e.$router.push("/config"))}t.prototype._post=function(t,a,o){var r=this,i=e(r);if(i){var n=localStorage.address;Bt.a.post(n+t,a).then(function(t){o(t)}).catch(function(t){s(t,r)})}},t.prototype._get=function(t,a,o){var r=this,i=e(r);if(i){var n=localStorage.address;Bt.a.get(n+t).then(function(t){a(t)}).catch(function(t){null!=o?o(t):s(t,r)})}},t.prototype._delete=function(t,a,o){var r=this,i=e(r);if(i){var n=localStorage.address;Bt.a.delete(n+t).then(function(t){a(t)}).catch(function(t){null!=o?o(t):s(t,r)})}},t.prototype._patch=function(t,a,o){var r=this,i=e(r);if(i){var n=localStorage.address;Bt.a.patch(n+t,a).then(function(t){o(t)}).catch(function(t){s(t,r)})}}}},ge=s("434d"),Ie=s("bb2f"),ke=s.n(Ie);a["default"].use(ge["a"]),a["default"].use(u.a),a["default"].locale=function(){};var ye=new ge["a"]({locale:"en",messages:{en:ke.a}});a["default"].config.productionTip=!0,a["default"].use(be),new a["default"]({i18n:ye,render:function(t){return t(l)},router:_e}).$mount("#app")},"59cf":function(t,e,s){},"5bb6":function(t,e,s){"use strict";var a=s("8327"),o=s.n(a);o.a},"5ee9":function(t,e,s){},"76a2":function(t,e,s){"use strict";var a=s("519f"),o=s.n(a);o.a},"811f":function(t,e,s){"use strict";var a=s("c218"),o=s.n(a);o.a},8327:function(t,e,s){},"8b88":function(t,e,s){},b51f:function(t,e,s){"use strict";var a=s("4f07"),o=s.n(a);o.a},b65b:function(t,e,s){},b676:function(t,e,s){"use strict";var a=s("ff5f"),o=s.n(a);o.a},c218:function(t,e,s){},c6db:function(t,e,s){},d981:function(t,e,s){"use strict";var a=s("3bb4"),o=s.n(a);o.a},e3db:function(t,e,s){},ec5c:function(t,e,s){"use strict";var a=s("59cf"),o=s.n(a);o.a},f185:function(t,e,s){},f2e7:function(t,e,s){"use strict";var a=s("e3db"),o=s.n(a);o.a},f653:function(t,e,s){},fb62:function(t,e,s){"use strict";var a=s("b65b"),o=s.n(a);o.a},ff5f:function(t,e,s){}});
//# sourceMappingURL=app.65b4d36a.js.map